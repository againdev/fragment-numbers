{"version":3,"file":"static/js/995.0b83aab3.chunk.js","mappings":"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","sources":["../../../packages/uikit/dist/state/swap/useSwapOptions.js","../../../packages/uikit/dist/state/swap/useEncodeSwap.js","../../../packages/uikit/dist/state/swap/useCalculatedSwap.js","../../../packages/uikit/dist/components/swap/SwapButton.js","../../../packages/uikit/dist/components/swap/tokens-list/SwapSearchInput.js","../../../packages/uikit/dist/components/swap/tokens-list/ConfirmImportNotification.js","../../../packages/uikit/dist/components/swap/tokens-list/SwapTokensList.js","../../../packages/uikit/dist/components/swap/tokens-list/SwapTokensListNotification.js","../../../packages/uikit/dist/components/swap/SwapTokenSelect.js","../../../packages/uikit/dist/components/swap/SwapAmountInput.js","../../../packages/uikit/dist/components/swap/SwapAmountFiat.js","../../../packages/uikit/dist/components/swap/SwapAmountBalance.js","../../../packages/uikit/dist/components/swap/SwapFromField.js","../../../packages/uikit/dist/components/swap/SwapProviders.js","../../../packages/uikit/dist/components/shared/Accordion.js","../../../packages/uikit/dist/components/swap/SwapTransactionInfo.js","../../../packages/uikit/dist/components/swap/SwapRate.js","../../../packages/uikit/dist/components/swap/SwapToField.js","../../../packages/uikit/dist/components/swap/SwapMainForm.js","../../../packages/uikit/node_modules/react-error-boundary/dist/react-error-boundary.esm.js","../../../packages/uikit/dist/components/shared/RadioFlatInput.js","../../../packages/uikit/dist/components/swap/SwapSettingsNotification.js","../../../packages/uikit/dist/components/swap/icon-buttons/SwapSettingsButton.js","../../../packages/uikit/dist/components/swap/icon-buttons/SwapRefreshButton.js","../../../packages/uikit/dist/pages/swap/SwapMobileNotification.js","../../../packages/uikit/dist/components/Error.js","../../../packages/uikit/dist/state/swap/useSwapAssets.js"],"sourcesContent":["import { useAppSdk } from '../../hooks/appSdk';\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport { AppKey } from '@tonkeeper/core/dist/Keys';\nconst defaultSwapOptions = {\n    slippagePercent: 1,\n    maxPriceImpact: 0.3\n};\nexport const useSwapOptions = () => {\n    const sdk = useAppSdk();\n    return useQuery([AppKey.SWAP_OPTIONS], async () => {\n        const options = await sdk.storage.get(AppKey.SWAP_OPTIONS);\n        return {\n            slippagePercent: options?.slippagePercent || defaultSwapOptions.slippagePercent,\n            maxPriceImpact: options?.maxPriceImpact || defaultSwapOptions.maxPriceImpact\n        };\n    });\n};\nexport const useMutateSwapOptions = () => {\n    const sdk = useAppSdk();\n    const client = useQueryClient();\n    return useMutation(async (newOptions) => {\n        const options = await sdk.storage.get(AppKey.SWAP_OPTIONS);\n        await sdk.storage.set(AppKey.SWAP_OPTIONS, { ...options, ...newOptions });\n        await client.invalidateQueries([AppKey.SWAP_OPTIONS]);\n    });\n};\n","import { useMutation } from '@tanstack/react-query';\nimport { assertUnreachable } from '@tonkeeper/core/dist/utils/types';\nimport { Address } from '@ton/core';\nimport { useAppContext } from '../../hooks/appContext';\nimport { useSwapsConfig } from './useSwapsConfig';\nimport BigNumber from 'bignumber.js';\nimport { useSwapOptions } from './useSwapOptions';\nimport { useActiveWallet } from '../wallet';\nexport function useEncodeSwap() {\n    const wallet = useActiveWallet();\n    const { swapService } = useSwapsConfig();\n    const { config } = useAppContext();\n    const { data: swapOpaitons } = useSwapOptions();\n    const referral = config.web_swaps_referral_address;\n    return useMutation(swap => {\n        if (!swapOpaitons) {\n            throw new Error('SwapOptions query was not resolved yet');\n        }\n        return swapService.encodeSwap({\n            swap: swapToProviderSwap(swap),\n            options: {\n                senderAddress: wallet.rawAddress,\n                slippage: new BigNumber(swapOpaitons.slippagePercent)\n                    .div(100)\n                    .decimalPlaces(5)\n                    .toString(),\n                ...(referral && { referralAddress: Address.parse(referral).toRawString() })\n            }\n        });\n    });\n}\nconst swapToProviderSwap = (swap) => {\n    if (swap.provider === 'stonfi') {\n        return {\n            provider: 'stonfi',\n            stonfiTrade: swap.trade.rawTrade\n        };\n    }\n    if (swap.provider === 'dedust') {\n        return {\n            provider: 'dedust',\n            dedustTrade: swap.trade.rawTrade\n        };\n    }\n    assertUnreachable(swap);\n};\n","import { useQuery } from '@tanstack/react-query';\nimport { isTon } from '@tonkeeper/core/dist/entries/crypto/asset/ton-asset';\nimport { AssetAmount } from '@tonkeeper/core/dist/entries/crypto/asset/asset-amount';\nimport { JettonsApi } from '@tonkeeper/core/dist/tonApiV2';\nimport { TON_ASSET } from '@tonkeeper/core/dist/entries/crypto/asset/constants';\nimport { packAssetId } from '@tonkeeper/core/dist/entries/crypto/asset/basic-asset';\nimport { BLOCKCHAIN_NAME } from '@tonkeeper/core/dist/entries/crypto';\nimport { Address } from '@ton/core';\nimport { eqAddresses } from '@tonkeeper/core/dist/utils/address';\nimport { useMemo } from 'react';\nimport { useAppContext } from '../../hooks/appContext';\nimport { useSwapFromAmount, useSwapFromAsset, useSelectedSwap, useSwapToAsset, useIsSwapFormNotCompleted } from './useSwapForm';\nimport { QueryKey } from '../../libs/queryKey';\nimport { unShiftedDecimals } from '@tonkeeper/core/dist/utils/balance';\nimport { atom, useAtom } from '../../libs/atom';\nimport { useSwapsConfig } from './useSwapsConfig';\nconst swapAssetsCache = new Map();\nexport const swapProviders = ['stonfi', 'dedust'];\nconst fetchedSwaps$ = atom([]);\nlet calculationId = 0;\nexport function useCalculatedSwap() {\n    const { api } = useAppContext();\n    const [fetchedSwaps, setFetchedSwaps] = useAtom(fetchedSwaps$);\n    const [fromAsset] = useSwapFromAsset();\n    const [toAsset] = useSwapToAsset();\n    const [fromAmountRelative] = useSwapFromAmount();\n    const [_, setSelectedSwap] = useSelectedSwap();\n    const isNotCompleted = useIsSwapFormNotCompleted();\n    const { swapService } = useSwapsConfig();\n    const query = useQuery({\n        queryKey: [\n            QueryKey.swapCalculate,\n            fromAsset.id,\n            toAsset.id,\n            fromAmountRelative?.shiftedBy(fromAsset.decimals).toFixed(0)\n        ],\n        queryFn: async ({ signal }) => {\n            setFetchedSwaps([]);\n            setSelectedSwap(undefined);\n            calculationId = calculationId + 1;\n            const currentCalulationId = calculationId;\n            if (isNotCompleted) {\n                return [];\n            }\n            addAssetToCache(fromAsset);\n            addAssetToCache(toAsset);\n            const fromAmountWei = unShiftedDecimals(fromAmountRelative, fromAsset.decimals);\n            let totalFetchedSwaps = [];\n            return new Promise((res, rej) => {\n                let fetchedProvidersNumber = 0;\n                swapProviders.forEach(async (provider) => {\n                    try {\n                        const swapPromise = swapService.calculateSwap(toTradeAssetId(fromAsset.address), toTradeAssetId(toAsset.address), fromAmountWei.toFixed(0), provider);\n                        if (signal) {\n                            signal.onabort = () => swapPromise.cancel();\n                        }\n                        const providerSwap = await swapPromise;\n                        const swap = await providerSwapToSwap(providerSwap, api, fromAsset, toAsset);\n                        if (currentCalulationId !== calculationId) {\n                            rej(new Error('Calculation cancelled'));\n                            return;\n                        }\n                        const providerBestSwap = sortSwaps(swap)[0];\n                        totalFetchedSwaps = sortSwaps(totalFetchedSwaps.concat(providerBestSwap));\n                        if (totalFetchedSwaps[0].trade) {\n                            setSelectedSwap(totalFetchedSwaps[0]);\n                        }\n                        setFetchedSwaps(s => sortSwaps([...s, providerBestSwap]));\n                        fetchedProvidersNumber = fetchedProvidersNumber + 1;\n                        if (fetchedProvidersNumber === swapProviders.length) {\n                            res(totalFetchedSwaps);\n                        }\n                    }\n                    catch (e) {\n                        if (currentCalulationId !== calculationId) {\n                            rej(new Error('Calculation cancelled'));\n                            return;\n                        }\n                        console.error(e);\n                        const swap = {\n                            provider,\n                            trade: null\n                        };\n                        totalFetchedSwaps = sortSwaps(totalFetchedSwaps.concat(swap));\n                        if (totalFetchedSwaps[0].trade) {\n                            setSelectedSwap(totalFetchedSwaps[0]);\n                        }\n                        setFetchedSwaps(s => sortSwaps([...s, swap]));\n                        fetchedProvidersNumber = fetchedProvidersNumber + 1;\n                        if (fetchedProvidersNumber === swapProviders.length) {\n                            res(totalFetchedSwaps);\n                        }\n                    }\n                });\n            });\n        },\n        cacheTime: 0\n    });\n    return useMemo(() => ({\n        ...query,\n        fetchedSwaps\n    }), [query, fetchedSwaps]);\n}\nconst toTradeAssetId = (address) => {\n    return isTon(address) ? 'ton' : address.toRawString();\n};\nconst fromTradeAssetId = (address) => {\n    return address === 'ton' ? 'TON' : Address.parse(address);\n};\nconst sortSwaps = (swaps) => {\n    return swaps.slice().sort((a, b) => {\n        if (!a.trade) {\n            return 1;\n        }\n        if (!b.trade) {\n            return -1;\n        }\n        return b.trade.to.weiAmount.comparedTo(a.trade.to.weiAmount);\n    });\n};\nconst providerSwapToSwap = async (providerSwap, api, fromAsset, toAsset) => {\n    const assetsInfo = await getPathAssets(providerSwap.trades, api);\n    if (providerSwap.provider === 'dedust') {\n        if (providerSwap.trades.length === 0) {\n            return [\n                {\n                    provider: 'dedust',\n                    trade: null\n                }\n            ];\n        }\n        return providerSwap.trades.map(t => ({\n            provider: 'dedust',\n            trade: {\n                from: new AssetAmount({\n                    asset: fromAsset,\n                    weiAmount: t.fromAmount\n                }),\n                to: new AssetAmount({\n                    asset: toAsset,\n                    weiAmount: t.toAmount\n                }),\n                path: t.path.map(address => assetsInfo.find(a => eqAddresses(a.address, fromTradeAssetId(address)))),\n                blockchainFee: new AssetAmount({\n                    asset: TON_ASSET,\n                    weiAmount: t.blockchainFee\n                }),\n                rawTrade: t.dedustRawTrade\n            }\n        }));\n    }\n    if (providerSwap.provider === 'stonfi') {\n        const trade = providerSwap.trades[0];\n        if (!trade) {\n            return [{ provider: 'stonfi', trade: null }];\n        }\n        return [\n            {\n                provider: 'stonfi',\n                trade: {\n                    from: new AssetAmount({\n                        asset: fromAsset,\n                        weiAmount: trade.fromAmount\n                    }),\n                    to: new AssetAmount({\n                        asset: toAsset,\n                        weiAmount: trade.toAmount\n                    }),\n                    blockchainFee: new AssetAmount({\n                        asset: TON_ASSET,\n                        weiAmount: trade.blockchainFee\n                    }),\n                    rawTrade: trade.stonfiRawTrade,\n                    path: trade.path.map(address => assetsInfo.find(a => eqAddresses(a.address, fromTradeAssetId(address))))\n                }\n            }\n        ];\n    }\n    return [];\n};\nconst getPathAssets = async (trades, api) => {\n    const addresses = trades.flatMap(trade => trade.path.map(fromTradeAssetId));\n    return Promise.all(addresses.map(address => getAsset(api, address)));\n};\nconst addAssetToCache = (asset) => {\n    if (!swapAssetsCache.has(asset.address)) {\n        swapAssetsCache.set(asset.address, Promise.resolve(asset));\n    }\n};\nconst getAsset = async (api, address) => {\n    if (isTon(address)) {\n        return TON_ASSET;\n    }\n    if (swapAssetsCache.has(address)) {\n        return swapAssetsCache.get(address);\n    }\n    const tonapi = new JettonsApi(api.tonApiV2);\n    const p = tonapi.getJettonInfo({ accountId: address.toRawString() }).then(response => ({\n        symbol: response.metadata.symbol,\n        decimals: Number(response.metadata.decimals),\n        name: response.metadata.name,\n        blockchain: BLOCKCHAIN_NAME.TON,\n        address,\n        id: packAssetId(BLOCKCHAIN_NAME.TON, address),\n        image: response.metadata.image\n    }));\n    swapAssetsCache.set(address, p);\n    return p;\n};\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { shiftedDecimals } from '@tonkeeper/core/dist/utils/balance';\nimport { useTranslation } from '../../hooks/translation';\nimport { useCalculatedSwap } from '../../state/swap/useCalculatedSwap';\nimport { useIsSwapFormNotCompleted, useMaxSwapValue, useSelectedSwap, useSwapFromAmount, useSwapFromAsset, useSwapPriceImpact } from '../../state/swap/useSwapForm';\nimport { useSwapOptions } from '../../state/swap/useSwapOptions';\nimport { Button } from '../fields/Button';\nexport const SwapButton = ({ onClick, isEncodingProcess }) => {\n    const { t } = useTranslation();\n    const [swapAmount] = useSwapFromAmount();\n    const [fromAsset] = useSwapFromAsset();\n    const { data: max } = useMaxSwapValue();\n    const { isFetching, data: calculatedSwaps } = useCalculatedSwap();\n    const [selectedSwap] = useSelectedSwap();\n    const priceImpact = useSwapPriceImpact();\n    const { data: swapOptions } = useSwapOptions();\n    const isNotCompleted = useIsSwapFormNotCompleted();\n    if (isNotCompleted) {\n        return (_jsx(Button, { size: \"medium\", secondary: true, disabled: true, children: t('swap_enter_amount') }));\n    }\n    if (!isFetching && calculatedSwaps?.every(s => !s.trade)) {\n        return (_jsx(Button, { size: \"medium\", disabled: true, children: t('swap_trade_is_not_available') }));\n    }\n    if ((isFetching && !selectedSwap?.trade) || !max || priceImpact === undefined || !swapOptions) {\n        return (_jsx(Button, { size: \"medium\", secondary: true, loading: true, children: t('continue') }));\n    }\n    if (!selectedSwap || !selectedSwap.trade) {\n        return (_jsx(Button, { size: \"medium\", secondary: true, disabled: true, children: t('swap_trade_is_not_available') }));\n    }\n    const isNotEnoughFunds = swapAmount?.gt(shiftedDecimals(max, fromAsset.decimals));\n    if (isNotEnoughFunds) {\n        return (_jsx(Button, { size: \"medium\", secondary: true, disabled: true, children: t('swap_not_enough_funds') }));\n    }\n    const priceImpactTooHigh = priceImpact?.gt(swapOptions.maxPriceImpact);\n    if (priceImpactTooHigh) {\n        return (_jsx(Button, { size: \"medium\", secondary: true, disabled: true, children: t('swap_price_impact_too_high') }));\n    }\n    return (_jsx(Button, { size: \"medium\", primary: true, onClick: onClick, loading: isEncodingProcess, children: t('continue') }));\n};\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { forwardRef } from 'react';\nimport { useSwapTokensFilter } from '../../../state/swap/useSwapAssets';\nimport { useTranslation } from '../../../hooks/translation';\nimport { Input } from '../../fields/Input';\nexport const SwapSearchInput = forwardRef(({ className, isDisabled }, ref) => {\n    const { t } = useTranslation();\n    const [value, setValue] = useSwapTokensFilter();\n    return (_jsx(Input, { value: value, onChange: e => setValue(e), ref: ref, disabled: isDisabled, label: t('swap_search'), clearButton: true, className: className, size: \"small\" }));\n});\n","import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { Notification } from '../../Notification';\nimport { styled } from 'styled-components';\nimport { Body2, Label2 } from '../../Text';\nimport { Button } from '../../fields/Button';\nimport { useTranslation } from '../../../hooks/translation';\nconst ConfirmImportNotificationContent = styled.div `\n    display: flex;\n    flex-direction: column;\n    text-align: center;\n`;\nconst DescriptionBlock = styled(Body2) `\n    display: block;\n    margin-top: 4px;\n    color: ${p => p.theme.textSecondary};\n`;\nconst ButtonsBlock = styled.div `\n    width: 100%;\n    display: flex;\n    gap: 8px;\n    margin-top: 24px;\n\n    > * {\n        flex: 1;\n    }\n`;\nconst NotificationStyled = styled(Notification) `\n    ${p => p.theme.displayType === 'full-width' && 'max-width: 400px;'}\n`;\nexport const ConfirmImportNotification = ({ isOpen, onClose, tokenSymbol }) => {\n    const { t } = useTranslation();\n    return (_jsx(_Fragment, { children: _jsx(NotificationStyled, { isOpen: isOpen, handleClose: onClose, children: () => (_jsxs(ConfirmImportNotificationContent, { children: [_jsx(Label2, { children: t('swap_import_token_title').replace('%token%', tokenSymbol) }), _jsx(DescriptionBlock, { children: t('swap_unknown_token_description') }), _jsxs(ButtonsBlock, { children: [_jsx(Button, { primary: true, onClick: () => onClose(false), children: t('cancel') }), _jsx(Button, { secondary: true, onClick: () => onClose(true), children: t('swap_import') })] })] })) }) }));\n};\n","import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { styled } from 'styled-components';\nimport { Fragment, useEffect, useRef, useState } from 'react';\nimport { Body2, Body3, Label2 } from '../../Text';\nimport { useAddUserCustomSwapAsset, useSwapCustomTokenSearch } from '../../../state/swap/useSwapAssets';\nimport { formatFiatCurrency } from '../../../hooks/balance';\nimport { useAppContext } from '../../../hooks/appContext';\nimport { isTon } from '@tonkeeper/core/dist/entries/crypto/asset/ton-asset';\nimport { LinkOutIcon, SpinnerIcon } from '../../Icon';\nimport { ConfirmImportNotification } from './ConfirmImportNotification';\nimport { useAppSdk } from '../../../hooks/appSdk';\nimport { throttle } from '@tonkeeper/core/dist/utils/common';\nimport { useTranslation } from '../../../hooks/translation';\nconst SwapTokensListWrapper = styled.div `\n    overflow-y: auto;\n    width: calc(100% + 2rem);\n    margin: 0 -1rem;\n    height: calc(100% - 54px);\n\n    &::-webkit-scrollbar {\n        display: none;\n    }\n\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n`;\nconst Divider = styled.div `\n    width: 100%;\n    height: 1px;\n    background-color: ${p => p.theme.separatorCommon};\n`;\nexport const SwapTokensList = ({ walletSwapAssets, onSelect }) => {\n    const [displayingAssets, setDisplayingAssets] = useState(walletSwapAssets.slice(0, 25));\n    const ref = useRef(null);\n    useEffect(() => {\n        setDisplayingAssets(walletSwapAssets.slice(0, 25));\n    }, [walletSwapAssets]);\n    const onScroll = () => {\n        if (!ref?.current) {\n            return;\n        }\n        const scrollHeightLeft = ref.current.scrollHeight - ref.current.clientHeight - ref.current.scrollTop;\n        if (scrollHeightLeft < 300) {\n            setDisplayingAssets(d => walletSwapAssets.slice(0, d.length + 25));\n        }\n    };\n    return (_jsx(SwapTokensListWrapper, { ref: ref, onScroll: throttle(onScroll, 100), children: walletSwapAssets.length ? (displayingAssets.map((swapAsset, index) => (_jsxs(Fragment, { children: [_jsx(TokenListItem, { onClick: () => onSelect(swapAsset.assetAmount.asset), swapAsset: swapAsset }), index !== walletSwapAssets.length - 1 && _jsx(Divider, {})] }, swapAsset.assetAmount.asset.id)))) : (_jsx(TokenNotFound, { onSelect: onSelect })) }));\n};\nconst TokensNotFoundContainer = styled.div `\n    height: 100%;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: ${p => p.theme.textSecondary};\n`;\nconst TokenNotFound = ({ onSelect }) => {\n    const { t } = useTranslation();\n    const { data: swapAsset, isFetching } = useSwapCustomTokenSearch();\n    const [isOpened, setIsOpened] = useState(false);\n    const { mutate } = useAddUserCustomSwapAsset();\n    if (isFetching) {\n        return (_jsx(TokensNotFoundContainer, { children: _jsx(SpinnerIcon, {}) }));\n    }\n    if (!swapAsset) {\n        return (_jsx(TokensNotFoundContainer, { children: _jsx(Body2, { children: t('swap_tokens_not_found') }) }));\n    }\n    const onClose = (confirmed) => {\n        setIsOpened(false);\n        if (confirmed) {\n            mutate(swapAsset.assetAmount.asset);\n            onSelect(swapAsset.assetAmount.asset);\n        }\n    };\n    return (_jsxs(_Fragment, { children: [_jsx(ConfirmImportNotification, { isOpen: isOpened, onClose: onClose, tokenSymbol: swapAsset.assetAmount.asset.symbol }), _jsx(TokenListItem, { onClick: () => setIsOpened(true), swapAsset: swapAsset })] }));\n};\nconst TokenListItemWrapper = styled.button `\n    border: none;\n    width: 100%;\n    padding: 8px 1rem;\n    display: flex;\n    gap: 12px;\n    background-color: transparent;\n\n    transition: background-color 0.15s ease-in-out;\n    cursor: pointer;\n\n    &:hover,\n    &:focus {\n        background-color: ${p => p.theme.backgroundContent};\n    }\n`;\nconst TokenImage = styled.img `\n    height: 40px;\n    width: 40px;\n    border-radius: 100%;\n`;\nconst TokenInfo = styled.div `\n    display: flex;\n    flex-direction: column;\n    width: calc(100% - 52px);\n`;\nconst TokenInfoLine = styled.div `\n    display: flex;\n    align-items: center;\n    gap: 4px;\n\n    > *:first-child {\n        display: block;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n\n    > *:nth-child(3) {\n        margin-left: auto;\n    }\n`;\nconst LinkOutIconWrapper = styled.div `\n    cursor: pointer;\n    &:hover {\n        > svg {\n            color: ${p => p.theme.iconSecondary};\n        }\n    }\n`;\nconst TokenInfoSecondLine = styled(TokenInfoLine) `\n    color: ${p => p.theme.textSecondary};\n\n    > *:nth-child(2) {\n        margin-left: auto;\n    }\n`;\nconst BalanceLabel = styled(Label2) `\n    color: ${p => (p.isZero ? p.theme.textTertiary : p.theme.textPrimary)};\n`;\nconst TokenListItem = ({ swapAsset, onClick }) => {\n    const isZeroBalance = swapAsset.assetAmount.relativeAmount.isZero();\n    const { fiat } = useAppContext();\n    const sdk = useAppSdk();\n    const onOpenExplorer = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        let explorerUrl;\n        if (isTon(swapAsset.assetAmount.asset.address)) {\n            explorerUrl = 'https://tonviewer.com/price';\n        }\n        else {\n            explorerUrl = `https://tonviewer.com/${swapAsset.assetAmount.asset.address.toString({\n                urlSafe: true\n            })}`;\n        }\n        sdk.openPage(explorerUrl);\n    };\n    return (_jsxs(TokenListItemWrapper, { onClick: onClick, children: [_jsx(TokenImage, { src: swapAsset.assetAmount.asset.image }), _jsxs(TokenInfo, { children: [_jsxs(TokenInfoLine, { children: [_jsx(Label2, { children: swapAsset.assetAmount.asset.symbol }), _jsx(LinkOutIconWrapper, { onClick: onOpenExplorer, children: _jsx(LinkOutIcon, {}) }), _jsx(BalanceLabel, { isZero: isZeroBalance, children: swapAsset.assetAmount.stringRelativeAmount })] }), _jsxs(TokenInfoSecondLine, { children: [_jsx(Body3, { children: swapAsset.assetAmount.asset.name }), !isZeroBalance && (_jsx(Body3, { children: formatFiatCurrency(fiat, swapAsset.fiatAmount) }))] })] })] }));\n};\n","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Notification } from '../../Notification';\nimport { useCallback, useEffect, useRef } from 'react';\nimport { atom, useAtom } from '../../../libs/atom';\nimport { css, styled } from 'styled-components';\nimport { SwapSearchInput } from './SwapSearchInput';\nimport { SwapTokensList } from './SwapTokensList';\nimport { useSwapTokensFilter, useWalletFilteredSwapAssets } from '../../../state/swap/useSwapAssets';\nimport { SpinnerIcon } from '../../Icon';\nimport { useTranslation } from '../../../hooks/translation';\nconst swapTokensListOpened$ = atom(undefined);\nexport const useOpenSwapTokensList = (onClose) => {\n    const [_, setIsOpen] = useAtom(swapTokensListOpened$);\n    return useCallback(() => setIsOpen(() => ({\n        onClose\n    })), [setIsOpen, onClose]);\n};\nconst NotificationStyled = styled(Notification) `\n    padding-bottom: 0;\n`;\nexport const SwapTokensListNotification = () => {\n    const { t } = useTranslation();\n    const [onSelect, setIsOpen] = useAtom(swapTokensListOpened$);\n    const onClose = (asset) => {\n        onSelect?.onClose(asset);\n        setIsOpen(undefined);\n    };\n    return (_jsx(_Fragment, { children: _jsx(NotificationStyled, { isOpen: !!onSelect, handleClose: () => onClose(undefined), title: t('swap_tokens'), footer: _jsx(\"div\", {}), children: () => _jsx(SwapTokensListContent, { onSelect: onClose }) }) }));\n};\nconst SwapSearchInputStyled = styled(SwapSearchInput) `\n    margin-bottom: 1rem;\n`;\nconst SwapTokensListContentWrapper = styled.div `\n    ${p => p.theme.displayType === 'full-width'\n    ? css `\n                  height: 580px;\n              `\n    : css `\n                  height: calc(var(--app-height) - 6rem);\n              `}\n`;\nconst Divider = styled.div `\n    width: calc(100% + 2rem);\n    margin: 0 -1rem;\n    height: 1px;\n    background-color: ${p => p.theme.separatorCommon};\n`;\nconst SpinnerContainer = styled.div `\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 300px;\n`;\nconst SwapTokensListContent = ({ onSelect }) => {\n    const walletSwapAssets = useWalletFilteredSwapAssets();\n    const inputRef = useRef();\n    const [_, setFilter] = useSwapTokensFilter();\n    useEffect(() => {\n        setTimeout(() => inputRef?.current?.focus(), 100);\n        return () => setFilter('');\n    }, []);\n    return (_jsxs(SwapTokensListContentWrapper, { children: [_jsx(SwapSearchInputStyled, { ref: inputRef, isDisabled: !walletSwapAssets }), _jsx(Divider, {}), walletSwapAssets ? (_jsx(SwapTokensList, { onSelect: onSelect, walletSwapAssets: walletSwapAssets })) : (_jsx(SpinnerContainer, { children: _jsx(SpinnerIcon, {}) }))] }));\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useCallback } from 'react';\nimport { styled } from 'styled-components';\nimport { Label2 } from '../Text';\nimport { SwitchIcon } from '../Icon';\nimport { useOpenSwapTokensList } from './tokens-list/SwapTokensListNotification';\nconst TokenSymbol = styled(Label2) `\n    display: block;\n    max-width: 80px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    flex-shrink: 0;\n    color: ${p => p.theme.textPrimary};\n\n    transition: color 0.15s ease-in-out;\n`;\nconst SelectContainer = styled.button `\n    border: none;\n    display: flex;\n    align-items: center;\n    background: none;\n    padding: 0;\n    cursor: pointer;\n    gap: 6px;\n    height: 36px;\n    width: fit-content;\n\n    &:hover {\n        > ${TokenSymbol} {\n            color: ${p => p.theme.textSecondary};\n        }\n    }\n`;\nconst TokenImage = styled.img `\n    height: 24px;\n    width: 24px;\n    border-radius: 100%;\n    flex-shrink: 0;\n`;\nexport const SwapTokenSelect = ({ token, onTokenChange, className }) => {\n    const onClose = useCallback((t) => t && onTokenChange(t), [onTokenChange]);\n    const openList = useOpenSwapTokensList(onClose);\n    return (_jsxs(SelectContainer, { className: className, onClick: openList, children: [_jsx(TokenImage, { src: token.image }), _jsx(TokenSymbol, { children: token.symbol }), _jsx(SwitchIcon, {})] }));\n};\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect, useState } from 'react';\nimport { styled } from 'styled-components';\nimport { Num2Class } from '../Text';\nimport BigNumber from 'bignumber.js';\nimport { getDecimalSeparator } from '@tonkeeper/core/dist/utils/formatting';\nimport { replaceTypedDecimalSeparator, seeIfValueValid } from '../transfer/amountView/AmountViewUI';\nimport { formatNumberValue, formatSendValue, isNumeric, removeGroupSeparator } from '@tonkeeper/core/dist/utils/send';\nconst AmountInputWrapper = styled.input `\n    border: none;\n    background: none;\n    text-align: right;\n    outline: none;\n    width: 30px;\n    color: ${p => (p.isErrored ? p.theme.accentRed : p.theme.textPrimary)};\n    font-family: inherit;\n\n    ${Num2Class}\n\n    &::placeholder {\n        color: ${p => p.theme.textTertiary};\n    }\n`;\nexport const SwapAmountInput = ({ value, onChange, decimals, className, isErrored }) => {\n    const [input, setInput] = useState('');\n    const onInput = (newValue) => {\n        let inputValue = replaceTypedDecimalSeparator(newValue);\n        if (!inputValue) {\n            setInput('');\n            onChange(undefined);\n            return;\n        }\n        if (!seeIfValueValid(inputValue, decimals)) {\n            return;\n        }\n        if (isNumeric(inputValue)) {\n            if (!inputValue.endsWith(getDecimalSeparator())) {\n                const bnInput = new BigNumber(removeGroupSeparator(inputValue).replace(getDecimalSeparator(), '.'));\n                const prevBnInput = new BigNumber(removeGroupSeparator(input).replace(getDecimalSeparator(), '.'));\n                if (!bnInput.eq(prevBnInput)) {\n                    onChange(bnInput);\n                    inputValue = formatSendValue(inputValue);\n                }\n            }\n            setInput(inputValue);\n        }\n    };\n    useEffect(() => {\n        if (!value) {\n            setInput('');\n        }\n        else {\n            if (!input.endsWith(getDecimalSeparator())) {\n                try {\n                    const bnInput = new BigNumber(removeGroupSeparator(input).replace(getDecimalSeparator(), '.'));\n                    if (!bnInput.eq(value)) {\n                        setInput(formatNumberValue(value));\n                    }\n                }\n                catch (_) {\n                    // ignore\n                }\n            }\n        }\n    }, [value]);\n    const decimalSeparator = getDecimalSeparator();\n    return (_jsx(AmountInputWrapper, { value: input, onChange: e => onInput(e.target.value), placeholder: `0${decimalSeparator}00`, className: className, isErrored: isErrored, inputMode: \"decimal\" }));\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport BigNumber from 'bignumber.js';\nimport { useRate } from '../../state/rates';\nimport { tonAssetAddressToString } from '@tonkeeper/core/dist/entries/crypto/asset/ton-asset';\nimport { Skeleton } from '../shared/Skeleton';\nimport { Body3 } from '../Text';\nimport { styled } from 'styled-components';\nimport { formatFiatCurrency } from '../../hooks/balance';\nimport { useAppContext } from '../../hooks/appContext';\nconst Body3Styled = styled(Body3) `\n    color: ${p => p.theme.textSecondary};\n    cursor: default;\n`;\nexport const SwapAmountFiat = ({ amount, asset }) => {\n    const { fiat } = useAppContext();\n    const { data: rate, isLoading } = useRate(tonAssetAddressToString(asset.address));\n    if (!amount) {\n        return _jsx(\"div\", {});\n    }\n    if (!isLoading && !rate?.prices) {\n        return _jsx(\"div\", {});\n    }\n    if (isLoading) {\n        return _jsx(Skeleton, { width: \"80px\", height: \"12px\", margin: \"2px 0\" });\n    }\n    const inFiat = formatFiatCurrency(fiat, new BigNumber(rate.prices).multipliedBy(amount));\n    return _jsxs(Body3Styled, { children: [\"\\u2248\\u00A0\", inFiat] });\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Skeleton } from '../shared/Skeleton';\nimport { Body3, Label3 } from '../Text';\nimport { styled } from 'styled-components';\nimport { useFormatCoinValue } from '../../hooks/balance';\nimport { shiftedDecimals } from '@tonkeeper/core/dist/utils/balance';\nimport { useMaxSwapValue, useSwapFromAmount, useSwapFromAsset, useSwapToAsset } from '../../state/swap/useSwapForm';\nimport { useAssetWeiBalance } from '../../state/home';\nimport { BLOCKCHAIN_NAME } from '@tonkeeper/core/dist/entries/crypto';\nimport { useTranslation } from '../../hooks/translation';\nconst Body3Styled = styled(Body3) `\n    color: ${p => p.theme.textSecondary};\n`;\nconst BalanceContainer = styled.div `\n    display: flex;\n    height: 16px;\n    align-items: center;\n`;\nconst MaxButton = styled.button `\n    border: none;\n    background: none;\n    color: ${p => p.theme.accentBlue};\n    height: fit-content;\n    margin-left: 0.5rem;\n\n    > * {\n        display: block;\n        height: fit-content;\n    }\n\n    &:disabled {\n        opacity: 0.5;\n        cursor: not-allowed;\n    }\n`;\nexport const SwapFromAmountBalance = () => {\n    const [_, setSwapAmount] = useSwapFromAmount();\n    const [asset] = useSwapFromAsset();\n    const { data: balance } = useMaxSwapValue();\n    return (_jsx(SwapAmountContent, { balance: balance, decimals: asset.decimals, onMax: () => setSwapAmount(shiftedDecimals(balance, asset.decimals)) }));\n};\nexport const SwapToAmountBalance = () => {\n    const [asset] = useSwapToAsset();\n    const balance = useAssetWeiBalance({ address: asset.address, blockchain: BLOCKCHAIN_NAME.TON });\n    return _jsx(SwapAmountContent, { balance: balance, decimals: asset.decimals });\n};\nconst SwapAmountContent = ({ balance, decimals = 0, onMax }) => {\n    const { t } = useTranslation();\n    const format = useFormatCoinValue();\n    return (_jsxs(BalanceContainer, { children: [_jsxs(Body3Styled, { children: [t('swap_balance'), \":\\u00A0\"] }), balance ? (_jsx(Body3Styled, { children: format(balance, decimals) })) : (_jsx(Skeleton, { width: \"80px\", height: \"12px\", margin: \"2px 0\" })), onMax && (_jsx(MaxButton, { disabled: !balance || balance.isZero(), onClick: onMax, children: _jsx(Label3, { children: t('swap_max') }) }))] }));\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { styled } from 'styled-components';\nimport { Body3 } from '../Text';\nimport { SwapTokenSelect } from './SwapTokenSelect';\nimport { SwapAmountInput } from './SwapAmountInput';\nimport { useMaxSwapValue, useSwapFromAmount, useSwapFromAsset } from '../../state/swap/useSwapForm';\nimport { SwapAmountFiat } from './SwapAmountFiat';\nimport { SwapFromAmountBalance } from './SwapAmountBalance';\nimport { debounce } from '@tonkeeper/core/dist/utils/common';\nimport { shiftedDecimals } from '@tonkeeper/core/dist/utils/balance';\nimport { useTranslation } from '../../hooks/translation';\nconst FiledContainerStyled = styled.div `\n    position: relative;\n    background: ${p => p.theme.backgroundContent};\n    border-radius: ${p => p.theme.displayType === 'full-width' ? p.theme.corner2xSmall : p.theme.cornerSmall};\n    padding: 6px 12px;\n`;\nconst FiledHeader = styled.div `\n    color: ${p => p.theme.textSecondary};\n    gap: 8px;\n    display: flex;\n\n    padding: 4px 0;\n\n    > *:first-child {\n        margin-right: auto;\n    }\n\n    > * {\n        cursor: default;\n    }\n`;\nconst FieldBody = styled.div `\n    display: flex;\n    gap: 8px;\n    padding: 6px 0;\n`;\nconst FieldFooter = styled.div `\n    display: flex;\n    gap: 8px;\n    padding: 4px 0;\n    align-items: center;\n    height: 16px;\n\n    > * {\n        margin-left: auto;\n    }\n`;\nconst SwapTokenSelectStyled = styled(SwapTokenSelect) `\n    flex-shrink: 0;\n`;\nconst SwapAmountInputStyled = styled(SwapAmountInput) `\n    flex: 1;\n`;\nexport const SwapFromField = ({ children }) => {\n    const { t } = useTranslation();\n    const [swapAmount, setSwapAmount] = useSwapFromAmount();\n    const [fromAsset, setFromAsset] = useSwapFromAsset();\n    const { data: max } = useMaxSwapValue();\n    return (_jsxs(FiledContainerStyled, { children: [_jsxs(FiledHeader, { children: [_jsx(Body3, { children: t('swap_send') }), _jsx(SwapFromAmountBalance, {})] }), _jsxs(FieldBody, { children: [_jsx(SwapTokenSelectStyled, { token: fromAsset, onTokenChange: setFromAsset }), _jsx(SwapAmountInputStyled, { value: swapAmount, onChange: debounce(setSwapAmount), decimals: fromAsset.decimals, isErrored: !!max &&\n                            !!swapAmount &&\n                            swapAmount.gt(shiftedDecimals(max, fromAsset.decimals)) })] }), _jsx(FieldFooter, { children: _jsx(SwapAmountFiat, { amount: swapAmount, asset: fromAsset }) }), children] }));\n};\n","import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { styled } from 'styled-components';\nimport { Body3, Label2 } from '../Text';\nimport { useCalculatedSwap } from '../../state/swap/useCalculatedSwap';\nimport { useFormatFiat, useRate } from '../../state/rates';\nimport { tonAssetAddressToString } from '@tonkeeper/core/dist/entries/crypto/asset/ton-asset';\nimport { useIsSwapFormNotCompleted, useSelectedSwap, useSwapToAsset } from '../../state/swap/useSwapForm';\nimport { Skeleton } from '../shared/Skeleton';\nimport BigNumber from 'bignumber.js';\nimport { useTranslation } from '../../hooks/translation';\nconst SwapProvidersContainer = styled.div `\n    padding: 0 12px 12px;\n    background: ${p => p.theme.backgroundContent};\n    border-radius: ${p => p.theme.displayType === 'full-width' ? p.theme.corner2xSmall : p.theme.cornerSmall};\n    height: fit-content;\n`;\nconst Heading = styled.div `\n    color: ${p => p.theme.textSecondary};\n    padding: 10px 0;\n    display: flex;\n    align-items: center;\n    > * {\n        cursor: default;\n    }\n`;\nexport const SwapProviders = () => {\n    const { t } = useTranslation();\n    const isNotCompleted = useIsSwapFormNotCompleted();\n    if (isNotCompleted) {\n        return _jsx(\"div\", {});\n    }\n    return (_jsxs(SwapProvidersContainer, { children: [_jsx(Heading, { children: _jsx(Body3, { children: t('swap_provider') }) }), _jsx(ProviderCard, { provider: \"stonfi\" }), _jsx(ProviderCard, { provider: \"dedust\" })] }));\n};\nconst ProviderCardStyled = styled.div `\n    height: 56px;\n    border-radius: ${p => p.theme.displayType === 'full-width' ? p.theme.corner2xSmall : p.theme.cornerSmall};\n    border: 1px solid ${p => (p.isActive ? p.theme.accentBlue : p.theme.separatorCommon)};\n    padding: 0 12px;\n    display: flex;\n    gap: 0.5rem;\n    align-items: center;\n    cursor: ${p => (p.isDisabled ? 'not-allowed' : 'pointer')};\n\n    transition: border-color 0.15s ease-in-out;\n\n    &:not(:last-child) {\n        margin-bottom: 8px;\n    }\n`;\nconst ProviderImage = styled.img `\n    width: 24px;\n    height: 24px;\n    border-radius: 6px;\n`;\nconst ProviderLabelContainer = styled.div `\n    padding: 10px 0;\n    display: flex;\n    flex-direction: column;\n`;\nconst ProviderPriceContainer = styled.div `\n    padding: 10px 0;\n    margin-left: auto;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-end;\n`;\nconst Body3Styled = styled(Body3) `\n    color: ${p => p.theme.textSecondary};\n`;\nconst providersConfig = {\n    stonfi: {\n        imageUrl: 'https://wallet.tonkeeper.com/img/swap/stonfi.png',\n        label: 'STON.fi'\n    },\n    dedust: {\n        imageUrl: 'https://wallet.tonkeeper.com/img/swap/dedust.png',\n        label: 'DeDust'\n    }\n};\nconst ProviderCard = ({ provider }) => {\n    const { t } = useTranslation();\n    const [selectedSwap, setSelectedSwap] = useSelectedSwap();\n    const isActive = selectedSwap?.provider === provider;\n    const { fetchedSwaps, isFetching } = useCalculatedSwap();\n    const swap = fetchedSwaps.find(t => t.provider === provider);\n    const trade = swap?.trade;\n    const [toAsset] = useSwapToAsset();\n    const { data: rate, isFetching: isRateFetching } = useRate(tonAssetAddressToString(toAsset.address));\n    const isBest = fetchedSwaps.findIndex(t => t.provider === provider) === 0 && !!swap?.trade;\n    const providerConfig = providersConfig[provider];\n    const { fiatAmount } = useFormatFiat(rate, trade?.to.relativeAmount || new BigNumber(0));\n    return (_jsxs(ProviderCardStyled, { isDisabled: !swap || !trade, isActive: isActive, onClick: () => swap && trade && setSelectedSwap(swap), children: [_jsx(ProviderImage, { src: providerConfig.imageUrl }), _jsxs(ProviderLabelContainer, { children: [_jsx(Label2, { children: providerConfig.label }), isBest && _jsx(Body3Styled, { children: t('swap_best_price') })] }), _jsx(ProviderPriceContainer, { children: !isFetching && !trade ? (_jsx(Body3Styled, { children: t('swap_trade_is_not_available') })) : (_jsxs(_Fragment, { children: [trade ? (_jsx(Label2, { children: trade.to.stringAssetRelativeAmount })) : (_jsx(Skeleton, { width: \"60px\", height: \"14px\", margin: \"3px 0\" })), rate && trade ? (_jsxs(Body3Styled, { children: [\"\\u2248\\u00A0\", fiatAmount] })) : isRateFetching ? (_jsx(Skeleton, { width: \"60px\", height: \"12px\", margin: \"2px 0\" })) : (_jsx(\"div\", {}))] })) })] }));\n};\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { css, styled } from 'styled-components';\nimport { useEffect, useRef, useState } from 'react';\nconst AccordionContent = styled.div `\n    transform: translateY(-100%);\n    visibility: hidden;\n    transition: transform ${p => p.$transitionMS}ms ease-in-out,\n        visibility ${p => p.$transitionMS}ms ease-in-out;\n`;\nconst AccordionAnimation = styled.div `\n    display: grid;\n    grid-template-rows: ${p => (p.$isOpened ? '1fr' : '0fr')};\n    overflow: ${p => (p.$animationCompleted && p.$isOpened ? 'visible' : 'hidden')};\n    transition: grid-template-rows ${p => p.$transitionMS}ms ease-in-out;\n\n    ${AccordionContent} {\n        ${p => p.$isOpened &&\n    css `\n                transform: translateY(0);\n                visibility: visible;\n            `}\n    }\n`;\nconst AccordionBody = styled.div `\n    min-height: 0;\n    min-width: 0;\n`;\nexport const Accordion = ({ children, isOpened, transitionMS = 200 }) => {\n    const [isAnimationCompleted, setIsAnimationCompleted] = useState(false);\n    const timeoutRef = useRef();\n    useEffect(() => {\n        clearTimeout(timeoutRef.current);\n        if (isOpened) {\n            setIsAnimationCompleted(false);\n        }\n        else {\n            timeoutRef.current = setTimeout(() => setIsAnimationCompleted(true), 200);\n        }\n    }, [isOpened]);\n    return (_jsx(AccordionAnimation, { \"$animationCompleted\": isAnimationCompleted, \"$isOpened\": isOpened, \"$transitionMS\": transitionMS, children: _jsx(AccordionBody, { children: _jsx(AccordionContent, { \"$transitionMS\": transitionMS, children: children }) }) }));\n};\n","import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { css, styled } from 'styled-components';\nimport { Body2Class, Body3 } from '../Text';\nimport { IconButton } from '../fields/IconButton';\nimport { useState } from 'react';\nimport { ChevronDownIcon, InfoCircleIcon } from '../Icon';\nimport { Skeleton } from '../shared/Skeleton';\nimport { priceImpactStatus, useIsSwapFormNotCompleted, useSelectedSwap, useSwapPriceImpact } from '../../state/swap/useSwapForm';\nimport { useCalculatedSwap } from '../../state/swap/useCalculatedSwap';\nimport { getDecimalSeparator } from '@tonkeeper/core/dist/utils/formatting';\nimport { AssetAmount } from '@tonkeeper/core/dist/entries/crypto/asset/asset-amount';\nimport { useSwapOptions } from '../../state/swap/useSwapOptions';\nimport { useTranslation } from '../../hooks/translation';\nimport { BorderSmallResponsive } from '../shared/Styles';\nimport { Accordion } from '../shared/Accordion';\nconst TxInfoContainer = styled.div ``;\nconst TxInfoHeader = styled.div `\n    cursor: pointer;\n    padding: 4px 0;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    color: ${p => p.theme.textSecondary};\n\n    svg {\n        color: ${p => p.theme.textSecondary};\n    }\n`;\nconst AccordionContent = styled.div `\n    transform: translateY(-100%);\n    visibility: hidden;\n    transition: transform 0.2s ease-in-out, visibility 0.2s ease-in-out;\n`;\nconst AccordionAnimation = styled.div `\n    display: grid;\n    grid-template-rows: ${p => (p.isOpened ? '1fr' : '0fr')};\n    overflow: ${p => (p.animationCompleted && p.isOpened ? 'visible' : 'hidden')};\n    transition: grid-template-rows 0.2s ease-in-out;\n\n    ${AccordionContent} {\n        ${p => p.isOpened &&\n    css `\n                transform: translateY(0);\n                visibility: visible;\n            `}\n    }\n`;\nconst AccordionBody = styled.div `\n    min-height: 0;\n`;\nconst AccordionButton = styled(IconButton) `\n    transform: ${p => (p.isOpened ? 'rotate(180deg)' : 'rotate(0deg)')};\n    transition: transform 0.2s ease-in-out;\n    border: none;\n`;\nconst InfoRow = styled.div `\n    position: relative;\n    display: flex;\n    padding: 4px 0;\n    gap: 6px;\n    align-items: center;\n\n    > * {\n        cursor: default;\n    }\n`;\nconst Tooltip = styled.div `\n    pointer-events: none;\n    transform: translate3d(0, -10px, 0);\n    z-index: 100;\n    left: 0;\n    right: 0;\n    transition: all 0.15s ease-in-out;\n    opacity: 0;\n    position: absolute;\n    background-color: ${p => p.theme.backgroundContentTint};\n    padding: 8px 12px;\n    ${BorderSmallResponsive};\n    ${Body2Class};\n\n    ${p => p.placement === 'top'\n    ? css `\n                  transform: translate3d(0, 10px, 0);\n                  bottom: 30px;\n              `\n    : css `\n                  transform: translate3d(0, -10px, 0);\n                  top: 30px;\n              `}\n`;\nconst TooltipHost = styled.div `\n    cursor: pointer;\n\n    &:hover + ${Tooltip} {\n        opacity: 1;\n        transform: translate3d(0, 0, 0);\n    }\n`;\nconst InfoRowLabel = styled(Body3) `\n    color: ${p => p.theme.textSecondary};\n`;\nconst InfoRowRight = styled(Body3) `\n    margin-left: auto;\n`;\nconst InfoSkeleton = () => {\n    return _jsx(Skeleton, { width: \"60px\", height: \"12px\", margin: \"2px 0\" });\n};\nconst PriceImpact = styled(Body3) `\n    color: ${p => p.status === 'low'\n    ? p.theme.accentGreen\n    : p.status === 'medium' || p.status === 'unknown'\n        ? p.theme.accentOrange\n        : p.theme.accentRed};\n`;\nexport const SwapTransactionInfo = () => {\n    const { t } = useTranslation();\n    const [isOpened, setIsOpened] = useState(false);\n    const { isFetching } = useCalculatedSwap();\n    const [swap] = useSelectedSwap();\n    const priceImpact = useSwapPriceImpact();\n    const { data: swapOptions } = useSwapOptions();\n    const isNotCompleted = useIsSwapFormNotCompleted();\n    const trade = swap?.trade;\n    if ((!isFetching && !trade) || isNotCompleted) {\n        return null;\n    }\n    const onToggleAccordion = () => {\n        setIsOpened(v => !v);\n    };\n    return (_jsxs(TxInfoContainer, { children: [_jsxs(TxInfoHeader, { onClick: onToggleAccordion, children: [_jsx(Body3, { children: t('swap_tx_info') }), _jsx(AccordionButton, { transparent: true, isOpened: isOpened, children: _jsx(ChevronDownIcon, {}) })] }), _jsxs(Accordion, { isOpened: isOpened, children: [_jsxs(InfoRow, { children: [_jsx(InfoRowLabel, { children: t('swap_price_impact') }), _jsx(TooltipHost, { children: _jsx(InfoCircleIcon, {}) }), _jsx(Tooltip, { placement: \"top\", children: t('swap_price_impact_tooltip') }), _jsx(InfoRowRight, { children: priceImpact === undefined || !trade ? (_jsx(InfoSkeleton, {})) : (_jsx(PriceImpact, { status: priceImpactStatus(priceImpact), children: priceImpact ? (_jsxs(_Fragment, { children: [\"\\u2248\\u00A0\", `${priceImpact\n                                                .multipliedBy(100)\n                                                .decimalPlaces(2)\n                                                .toString()\n                                                .replace('.', getDecimalSeparator())\n                                                .replace('-', '+')}%`] })) : (t('swap_unknown_price_impact')) })) })] }), _jsxs(InfoRow, { children: [_jsx(InfoRowLabel, { children: t('swap_minimum_received') }), _jsx(TooltipHost, { children: _jsx(InfoCircleIcon, {}) }), _jsx(Tooltip, { placement: \"top\", children: t('swap_minimum_received_tooltip') }), _jsx(InfoRowRight, { children: !trade || !swapOptions ? (_jsx(InfoSkeleton, {})) : (_jsxs(Body3, { children: [\"\\u2248\\u00A0\", new AssetAmount({\n                                            weiAmount: trade.to.weiAmount\n                                                .multipliedBy(100 - swapOptions.slippagePercent)\n                                                .div(100),\n                                            asset: trade.to.asset\n                                        }).stringAssetRelativeAmount] })) })] }), _jsxs(InfoRow, { children: [_jsx(InfoRowLabel, { children: t('swap_slippage') }), _jsx(TooltipHost, { children: _jsx(InfoCircleIcon, {}) }), _jsx(Tooltip, { placement: \"top\", children: t('swap_slippage_tooltip') }), _jsx(InfoRowRight, { children: !trade || !swapOptions ? (_jsx(InfoSkeleton, {})) : (_jsxs(Body3, { children: [swapOptions.slippagePercent, \"%\"] })) })] }), _jsxs(InfoRow, { children: [_jsx(InfoRowLabel, { children: t('swap_blockchain_fee') }), _jsx(TooltipHost, { children: _jsx(InfoCircleIcon, {}) }), _jsx(Tooltip, { placement: \"top\", children: t('swap_blockchain_fee_tooltip') }), _jsx(InfoRowRight, { children: !trade ? (_jsx(InfoSkeleton, {})) : (_jsxs(Body3, { children: [\"\\u2248\\u00A0\", trade.blockchainFee.stringAssetRelativeAmount] })) })] }), _jsxs(InfoRow, { children: [_jsx(InfoRowLabel, { children: t('swap_route') }), _jsx(InfoRowRight, { children: !trade ? (_jsx(InfoSkeleton, {})) : (_jsx(Body3, { children: trade.path.map(ta => ta.symbol).join('  ') })) })] })] })] }));\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useState } from 'react';\nimport { Skeleton } from '../shared/Skeleton';\nimport { Body3 } from '../Text';\nimport { css, styled } from 'styled-components';\nimport { priceImpactStatus, useSelectedSwap, useSwapPriceImpact } from '../../state/swap/useSwapForm';\nimport { useCalculatedSwap } from '../../state/swap/useCalculatedSwap';\nimport { AssetAmount } from '@tonkeeper/core/dist/entries/crypto/asset/asset-amount';\nconst Body3Styled = styled(Body3) `\n    display: flex;\n    align-items: center;\n    gap: 4px;\n    color: ${p => p.impact === 'medium'\n    ? p.theme.accentOrange\n    : p.impact === 'high'\n        ? p.theme.accentRed\n        : p.theme.textSecondary};\n    cursor: pointer;\n    transition: color 0.15s ease-in-out;\n\n    &:hover {\n        ${p => p.impact !== 'medium' &&\n    p.impact !== 'high' &&\n    css `\n                color: ${p.theme.textPrimary};\n            `};\n    }\n`;\nconst WarnIcon = () => {\n    return (_jsx(\"svg\", { width: \"12\", height: \"12\", viewBox: \"0 0 12 12\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", children: _jsx(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M4.18144 1.65C4.63413 0.86592 4.86047 0.473881 5.11842 0.286474C5.64415 -0.0954914 6.35604 -0.0954914 6.88177 0.286474C7.13971 0.473881 7.36606 0.86592 7.81875 1.65L11.1096 7.35L11.1097 7.35001C11.5623 8.13408 11.7887 8.52612 11.822 8.84321C11.8899 9.48949 11.534 10.106 10.9403 10.3703C10.6491 10.5 10.1964 10.5 9.29099 10.5H2.7092C1.80382 10.5 1.35113 10.5 1.05986 10.3703C0.466204 10.106 0.110258 9.48949 0.178184 8.84321C0.211512 8.52612 0.437856 8.13408 0.890544 7.35L4.18144 1.65ZM5.1001 8.1C5.1001 7.60294 5.50304 7.2 6.0001 7.2C6.49715 7.2 6.9001 7.60294 6.9001 8.1C6.9001 8.59706 6.49715 9 6.0001 9C5.50304 9 5.1001 8.59706 5.1001 8.1ZM6.00002 2C5.53718 2 5.16822 2.38674 5.18997 2.84906L5.31946 5.60072C5.33656 5.96414 5.63619 6.25 6.00002 6.25C6.36384 6.25 6.66347 5.96414 6.68057 5.60072L6.81006 2.84906C6.83182 2.38674 6.46285 2 6.00002 2Z\", fill: \"currentColor\" }) }));\n};\nexport const SwapRate = () => {\n    const [measureUnit, setMeasureUnit] = useState('from');\n    const [selectedSwap] = useSelectedSwap();\n    const { isFetching } = useCalculatedSwap();\n    const priceImpact = useSwapPriceImpact();\n    const isLoading = (isFetching && !selectedSwap?.trade) || priceImpact === undefined;\n    const isHidden = !isFetching && !selectedSwap?.trade;\n    if (isHidden) {\n        return null;\n    }\n    if (isLoading) {\n        return _jsx(Skeleton, { width: \"100px\", height: \"12px\", margin: \"2px 0\" });\n    }\n    const trade = selectedSwap.trade;\n    const leftPart = measureUnit === 'from' ? trade.from : trade.to;\n    const rightPart = measureUnit === 'from' ? trade.to : trade.from;\n    if (leftPart.relativeAmount.isZero()) {\n        return null;\n    }\n    const rightPartAmount = rightPart.relativeAmount.div(leftPart.relativeAmount);\n    const rightPartAssetAmount = AssetAmount.fromRelativeAmount({\n        amount: rightPartAmount,\n        asset: rightPart.asset\n    });\n    const impact = priceImpactStatus(priceImpact);\n    return (_jsxs(Body3Styled, { impact: impact, onClick: () => setMeasureUnit(s => (s === 'from' ? 'to' : 'from')), children: [\"1\\u00A0\", leftPart.asset.symbol, \"\\u00A0\\u2248\\u00A0\", rightPartAssetAmount.stringAssetRelativeAmount, (impact === 'medium' || impact === 'high') && _jsx(WarnIcon, {})] }));\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { styled } from 'styled-components';\nimport { Body3, Num2 } from '../Text';\nimport { SwapTokenSelect } from './SwapTokenSelect';\nimport { useSelectedSwap, useSwapToAsset } from '../../state/swap/useSwapForm';\nimport { SwapAmountFiat } from './SwapAmountFiat';\nimport { SwapToAmountBalance } from './SwapAmountBalance';\nimport { useCalculatedSwap } from '../../state/swap/useCalculatedSwap';\nimport { Skeleton } from '../shared/Skeleton';\nimport { SwapTransactionInfo } from './SwapTransactionInfo';\nimport { SwapRate } from './SwapRate';\nimport { useTranslation } from '../../hooks/translation';\nconst FiledContainerStyled = styled.div `\n    background: ${p => p.theme.backgroundContent};\n    border-radius: ${p => p.theme.displayType === 'full-width' ? p.theme.corner2xSmall : p.theme.cornerSmall};\n    padding: 6px 12px;\n`;\nconst FiledHeader = styled.div `\n    color: ${p => p.theme.textSecondary};\n    gap: 8px;\n    display: flex;\n\n    padding: 4px 0;\n\n    > *:first-child {\n        margin-right: auto;\n    }\n\n    > * {\n        cursor: default;\n    }\n`;\nconst FieldBody = styled.div `\n    display: flex;\n    gap: 8px;\n    padding: 6px 0;\n`;\nconst ToAmountField = styled.div `\n    margin-left: auto;\n    overflow: auto;\n\n    cursor: default;\n\n    &::-webkit-scrollbar {\n        display: none;\n    }\n\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n`;\nconst FieldFooter = styled.div `\n    display: flex;\n    gap: 8px;\n    padding: 4px 0;\n    align-items: center;\n    height: 16px;\n\n    > :last-child {\n        margin-left: auto;\n    }\n`;\nconst SwapTokenSelectStyled = styled(SwapTokenSelect) `\n    flex-shrink: 0;\n`;\nconst Num2Tertiary = styled(Num2) `\n    color: ${p => p.theme.textTertiary};\n`;\nexport const SwapToField = () => {\n    const { t } = useTranslation();\n    const [toAsset, setToAsset] = useSwapToAsset();\n    const { isFetching } = useCalculatedSwap();\n    const [selectedSwap] = useSelectedSwap();\n    return (_jsxs(FiledContainerStyled, { children: [_jsxs(FiledHeader, { children: [_jsx(Body3, { children: t('swap_receive') }), _jsx(SwapToAmountBalance, {})] }), _jsxs(FieldBody, { children: [_jsx(SwapTokenSelectStyled, { token: toAsset, onTokenChange: setToAsset }), _jsx(ToAmountField, { children: !selectedSwap?.trade && isFetching ? (_jsx(Skeleton, { width: \"100px\", height: \"28px\", margin: \"4px 0\" })) : selectedSwap?.trade ? (_jsx(Num2, { children: selectedSwap.trade.to.stringRelativeAmount })) : (_jsx(Num2Tertiary, { children: \"0\" })) })] }), _jsxs(FieldFooter, { children: [_jsx(SwapRate, {}), _jsx(SwapAmountFiat, { amount: selectedSwap?.trade?.to.relativeAmount, asset: toAsset })] }), _jsx(SwapTransactionInfo, {})] }));\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Address } from '@ton/core';\nimport { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { styled, useTheme } from 'styled-components';\nimport { AppRoute } from '../../libs/routes';\nimport { useEncodeSwap } from '../../state/swap/useEncodeSwap';\nimport { useSelectedSwap, useSwapFromAmount, useSwapFromAsset, useSwapToAsset } from '../../state/swap/useSwapForm';\nimport { useSwapMobileNotification } from '../../state/swap/useSwapMobileNotification';\nimport { SwapIcon } from '../Icon';\nimport { TonTransactionNotification } from '../connect/TonTransactionNotification';\nimport { IconButton } from '../fields/IconButton';\nimport { SwapButton } from './SwapButton';\nimport { SwapFromField } from './SwapFromField';\nimport { SwapProviders } from './SwapProviders';\nimport { SwapToField } from './SwapToField';\nimport { SwapTokensListNotification } from './tokens-list/SwapTokensListNotification';\nconst MainFormWrapper = styled.div `\n    display: flex;\n    flex-direction: column;\n    gap: 0.5rem;\n`;\nconst ChangeIconStyled = styled(IconButton) `\n    height: 32px;\n    width: 32px;\n    position: absolute;\n    right: calc(50% - 16px);\n    bottom: -20px;\n    border: none;\n\n    background-color: ${props => props.theme.buttonTertiaryBackground};\n\n    > svg {\n        transition: color 0.15s ease-in-out;\n    }\n\n    &:hover {\n        background-color: ${props => props.theme.buttonTertiaryBackgroundHighlighted};\n        > svg {\n            color: ${props => props.theme.iconPrimary};\n        }\n    }\n`;\nexport const SwapMainForm = ({ className }) => {\n    const theme = useTheme();\n    const { isLoading, mutateAsync: encode } = useEncodeSwap();\n    const [modalParams, setModalParams] = useState(null);\n    const [selectedSwap] = useSelectedSwap();\n    const [fromAsset, setFromAsset] = useSwapFromAsset();\n    const [toAsset, setToAsset] = useSwapToAsset();\n    const [_, setFromAmount] = useSwapFromAmount();\n    const navigate = useNavigate();\n    const [__, setIsMobileSwapOpen] = useSwapMobileNotification();\n    const onConfirm = async () => {\n        const result = await encode(selectedSwap);\n        setModalParams({\n            valid_until: (Date.now() + 10 * 60 * 1000) / 1000,\n            messages: [\n                {\n                    address: Address.parse(result.to).toString({ bounceable: true }),\n                    amount: result.value,\n                    payload: result.body\n                }\n            ]\n        });\n    };\n    const onChangeFields = () => {\n        setFromAsset(toAsset);\n        setToAsset(fromAsset);\n        if (selectedSwap?.trade) {\n            setFromAmount(selectedSwap.trade.to.relativeAmount);\n        }\n    };\n    const onCloseConfirmModal = (boc) => {\n        setModalParams(null);\n        if (boc) {\n            navigate(AppRoute.activity);\n            setIsMobileSwapOpen(false);\n        }\n    };\n    return (_jsxs(MainFormWrapper, { className: className, children: [_jsx(SwapFromField, { children: _jsx(ChangeIconStyled, { onClick: onChangeFields, children: _jsx(SwapIcon, {}) }) }), _jsx(SwapToField, {}), theme.displayType === 'compact' && _jsx(SwapProviders, {}), _jsx(SwapButton, { onClick: onConfirm, isEncodingProcess: isLoading || !!modalParams }), _jsx(TonTransactionNotification, { handleClose: onCloseConfirmModal, params: modalParams, waitInvalidation: true }), _jsx(SwapTokensListNotification, {})] }));\n};\n","'use client';\nimport { createContext, Component, createElement, isValidElement, useContext, useState, useMemo, forwardRef } from 'react';\n\nconst ErrorBoundaryContext = createContext(null);\n\nconst initialState = {\n  didCatch: false,\n  error: null\n};\nclass ErrorBoundary extends Component {\n  constructor(props) {\n    super(props);\n    this.resetErrorBoundary = this.resetErrorBoundary.bind(this);\n    this.state = initialState;\n  }\n  static getDerivedStateFromError(error) {\n    return {\n      didCatch: true,\n      error\n    };\n  }\n  resetErrorBoundary() {\n    const {\n      error\n    } = this.state;\n    if (error !== null) {\n      var _this$props$onReset, _this$props;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      (_this$props$onReset = (_this$props = this.props).onReset) === null || _this$props$onReset === void 0 ? void 0 : _this$props$onReset.call(_this$props, {\n        args,\n        reason: \"imperative-api\"\n      });\n      this.setState(initialState);\n    }\n  }\n  componentDidCatch(error, info) {\n    var _this$props$onError, _this$props2;\n    (_this$props$onError = (_this$props2 = this.props).onError) === null || _this$props$onError === void 0 ? void 0 : _this$props$onError.call(_this$props2, error, info);\n  }\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      didCatch\n    } = this.state;\n    const {\n      resetKeys\n    } = this.props;\n\n    // There's an edge case where if the thing that triggered the error happens to *also* be in the resetKeys array,\n    // we'd end up resetting the error boundary immediately.\n    // This would likely trigger a second error to be thrown.\n    // So we make sure that we don't check the resetKeys on the first call of cDU after the error is set.\n\n    if (didCatch && prevState.error !== null && hasArrayChanged(prevProps.resetKeys, resetKeys)) {\n      var _this$props$onReset2, _this$props3;\n      (_this$props$onReset2 = (_this$props3 = this.props).onReset) === null || _this$props$onReset2 === void 0 ? void 0 : _this$props$onReset2.call(_this$props3, {\n        next: resetKeys,\n        prev: prevProps.resetKeys,\n        reason: \"keys\"\n      });\n      this.setState(initialState);\n    }\n  }\n  render() {\n    const {\n      children,\n      fallbackRender,\n      FallbackComponent,\n      fallback\n    } = this.props;\n    const {\n      didCatch,\n      error\n    } = this.state;\n    let childToRender = children;\n    if (didCatch) {\n      const props = {\n        error,\n        resetErrorBoundary: this.resetErrorBoundary\n      };\n      if (typeof fallbackRender === \"function\") {\n        childToRender = fallbackRender(props);\n      } else if (FallbackComponent) {\n        childToRender = createElement(FallbackComponent, props);\n      } else if (fallback === null || isValidElement(fallback)) {\n        childToRender = fallback;\n      } else {\n        throw error;\n      }\n    }\n    return createElement(ErrorBoundaryContext.Provider, {\n      value: {\n        didCatch,\n        error,\n        resetErrorBoundary: this.resetErrorBoundary\n      }\n    }, childToRender);\n  }\n}\nfunction hasArrayChanged() {\n  let a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return a.length !== b.length || a.some((item, index) => !Object.is(item, b[index]));\n}\n\nfunction assertErrorBoundaryContext(value) {\n  if (value == null || typeof value.didCatch !== \"boolean\" || typeof value.resetErrorBoundary !== \"function\") {\n    throw new Error(\"ErrorBoundaryContext not found\");\n  }\n}\n\nfunction useErrorBoundary() {\n  const context = useContext(ErrorBoundaryContext);\n  assertErrorBoundaryContext(context);\n  const [state, setState] = useState({\n    error: null,\n    hasError: false\n  });\n  const memoized = useMemo(() => ({\n    resetBoundary: () => {\n      context.resetErrorBoundary();\n      setState({\n        error: null,\n        hasError: false\n      });\n    },\n    showBoundary: error => setState({\n      error,\n      hasError: true\n    })\n  }), [context.resetErrorBoundary]);\n  if (state.hasError) {\n    throw state.error;\n  }\n  return memoized;\n}\n\nfunction withErrorBoundary(component, errorBoundaryProps) {\n  const Wrapped = forwardRef((props, ref) => createElement(ErrorBoundary, errorBoundaryProps, createElement(component, {\n    ...props,\n    ref\n  })));\n\n  // Format for display in DevTools\n  const name = component.displayName || component.name || \"Unknown\";\n  Wrapped.displayName = \"withErrorBoundary(\".concat(name, \")\");\n  return Wrapped;\n}\n\nexport { ErrorBoundary, ErrorBoundaryContext, useErrorBoundary, withErrorBoundary };\n","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { styled } from 'styled-components';\nimport { BorderSmallResponsive } from './Styles';\nimport { Body2Class } from '../Text';\nimport { forwardRef, useId } from 'react';\nconst LabelStyled = styled.label `\n    cursor: pointer;\n    ${BorderSmallResponsive};\n    ${Body2Class};\n    box-sizing: border-box;\n\n    text-align: center;\n\n    padding: 8px 12px;\n\n    background: ${p => p.theme.fieldBackground};\n    border: 1px solid transparent;\n    transition: border-color 0.15s ease-in-out;\n`;\nconst InputStyled = styled.input `\n    display: none;\n\n    &:checked + ${LabelStyled} {\n        border: 1px solid ${p => p.theme.accentBlue};\n    }\n`;\nexport const RadioFlatInput = forwardRef((props, ref) => {\n    const fallbackId = useId();\n    const id = props.id || fallbackId;\n    const { className, children, ...rest } = props;\n    return (_jsxs(_Fragment, { children: [_jsx(InputStyled, { type: \"radio\", ref: ref, id: id, ...rest }), _jsx(LabelStyled, { className: className, htmlFor: id, children: children })] }));\n});\n","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useLayoutEffect, useState } from 'react';\nimport { styled } from 'styled-components';\nimport { Body3, Label2 } from '../Text';\nimport { RadioFlatInput } from '../shared/RadioFlatInput';\nimport { Notification } from '../Notification';\nimport { Button } from '../fields/Button';\nimport { useMutateSwapOptions, useSwapOptions } from '../../state/swap/useSwapOptions';\nimport { SpinnerIcon } from '../Icon';\nimport { useTranslation } from '../../hooks/translation';\nexport const SwapSettingsNotification = ({ isOpen, onClose }) => {\n    const { t } = useTranslation();\n    return (_jsx(_Fragment, { children: _jsx(Notification, { isOpen: isOpen, handleClose: onClose, title: t('swap_settings'), children: () => _jsx(SwapSettingsNotificationContent, { onClose: onClose }) }) }));\n};\nconst SlippageToleranceTextWrapper = styled.div `\n    padding-bottom: 10px;\n\n    > * {\n        display: block;\n        cursor: default;\n    }\n\n    > ${Body3} {\n        color: ${p => p.theme.textSecondary};\n    }\n`;\nconst SlippageOptionsContainer = styled.div `\n    display: flex;\n    gap: 0.5rem;\n    margin-bottom: 2rem;\n`;\nconst RadioFlatInputStyled = styled(RadioFlatInput) `\n    height: 36px;\n    flex: 1;\n`;\nconst ButtonsContainer = styled.div `\n    display: flex;\n    gap: 0.5rem;\n    > * {\n        flex: 1;\n    }\n`;\nconst slippagePercentValues = [0.5, 1, 3, 5];\nconst defaultPercent = slippagePercentValues[1];\nconst LoadingContainer = styled.div `\n    height: 200px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`;\nconst SwapSettingsNotificationContent = ({ onClose }) => {\n    const { t } = useTranslation();\n    const { data: swapOptions } = useSwapOptions();\n    const { mutate } = useMutateSwapOptions();\n    const [checkedRadioValue, setCheckedRadioValue] = useState();\n    useLayoutEffect(() => {\n        if (swapOptions?.slippagePercent) {\n            if (slippagePercentValues.includes(swapOptions?.slippagePercent)) {\n                setCheckedRadioValue(swapOptions?.slippagePercent);\n            }\n            else {\n                setCheckedRadioValue(defaultPercent);\n                mutate({ slippagePercent: defaultPercent });\n            }\n        }\n    }, [swapOptions?.slippagePercent]);\n    if (!swapOptions) {\n        return (_jsx(LoadingContainer, { children: _jsx(SpinnerIcon, {}) }));\n    }\n    const onSave = () => {\n        mutate({ slippagePercent: checkedRadioValue });\n        onClose?.();\n    };\n    return (_jsxs(_Fragment, { children: [_jsxs(SlippageToleranceTextWrapper, { children: [_jsx(Label2, { children: t('swap_slippage') }), _jsx(Body3, { children: t('swap_slippage_description') })] }), _jsx(SlippageOptionsContainer, { children: slippagePercentValues.map(value => (_jsxs(RadioFlatInputStyled, { name: \"slippage-percent\", value: value, checked: checkedRadioValue === value, onChange: () => setCheckedRadioValue(value), children: [value, \"%\"] }, value))) }), _jsxs(ButtonsContainer, { children: [_jsx(Button, { secondary: true, onClick: onClose, children: t('cancel') }), _jsx(Button, { primary: true, disabled: checkedRadioValue === swapOptions.slippagePercent, onClick: onSave, children: t('save') })] })] }));\n};\n","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { IconButtonTransparentBackground } from '../../fields/IconButton';\nimport { SlidersIcon } from '../../Icon';\nimport { SwapSettingsNotification } from '../SwapSettingsNotification';\nimport { useState } from 'react';\nexport const SwapSettingsButton = () => {\n    const [isOpen, setIsOpen] = useState(false);\n    return (_jsxs(_Fragment, { children: [_jsx(IconButtonTransparentBackground, { onClick: () => setIsOpen(true), children: _jsx(SlidersIcon, {}) }), _jsx(SwapSettingsNotification, { isOpen: isOpen, onClose: () => setIsOpen(false) })] }));\n};\n","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { IconButtonTransparentBackground } from '../../fields/IconButton';\nimport { RefreshIcon, RefreshIconAnimated } from '../../Icon';\nimport { useCalculatedSwap } from '../../../state/swap/useCalculatedSwap';\nimport { useEffect, useState } from 'react';\nlet isRefetchCalled = false;\nexport const SwapRefreshButton = () => {\n    const REFETCH_INTERVAL = 15000;\n    const { refetch, isFetching } = useCalculatedSwap();\n    const [isCounting, setIsCounting] = useState(false);\n    useEffect(() => {\n        isRefetchCalled = false;\n        if (isFetching) {\n            setIsCounting(false);\n        }\n        else {\n            setIsCounting(true);\n            const timeutId = setTimeout(() => {\n                // prevent double refresh from possible two component instances\n                if (isRefetchCalled) {\n                    return;\n                }\n                refetch();\n                isRefetchCalled = true;\n            }, REFETCH_INTERVAL);\n            return () => clearTimeout(timeutId);\n        }\n    }, [isFetching]);\n    return (_jsx(IconButtonTransparentBackground, { onClick: () => refetch(), children: isCounting ? _jsx(RefreshIconAnimated, {}) : _jsx(RefreshIcon, {}) }));\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Label2 } from '../../components/Text';\nimport { SwapMainForm } from '../../components/swap/SwapMainForm';\nimport { styled } from 'styled-components';\nimport { Notification } from '../../components/Notification';\nimport { useSwapMobileNotification } from '../../state/swap/useSwapMobileNotification';\nimport { ErrorBoundary } from 'react-error-boundary';\nimport { fallbackRenderOver } from '../../components/Error';\nimport { SwapSettingsButton } from '../../components/swap/icon-buttons/SwapSettingsButton';\nimport { SwapRefreshButton } from '../../components/swap/icon-buttons/SwapRefreshButton';\nimport { useTranslation } from '../../hooks/translation';\nconst SwapMobileNotification = () => {\n    const [isOpen, setIsOpen] = useSwapMobileNotification();\n    return (_jsx(ErrorBoundary, { fallbackRender: fallbackRenderOver('Failed to display Swap page'), children: _jsx(Notification, { isOpen: isOpen, handleClose: () => setIsOpen(false), title: _jsx(NotificationHeader, {}), children: () => _jsx(NotificationContent, {}) }) }));\n};\nconst NotificationHeaderContainer = styled.div `\n    position: relative;\n`;\nconst HeaderButtons = styled.div `\n    display: flex;\n`;\nconst HeaderLabel = styled(Label2) `\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 5rem;\n    right: 2rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: transparent;\n`;\nconst NotificationHeader = () => {\n    const { t } = useTranslation();\n    return (_jsxs(NotificationHeaderContainer, { children: [_jsxs(HeaderButtons, { children: [_jsx(SwapRefreshButton, {}), _jsx(SwapSettingsButton, {})] }), _jsx(HeaderLabel, { children: t('wallet_swap') })] }));\n};\nconst SwapPageWrapper = styled.div `\n    overflow-y: auto;\n    min-height: calc(var(--app-height) - 7rem);\n`;\nconst NotificationContent = () => {\n    return (_jsx(SwapPageWrapper, { children: _jsx(SwapMainForm, {}) }));\n};\nexport default SwapMobileNotification;\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport function fallbackRenderOver(location) {\n    return ({ error }) => {\n        return (_jsxs(\"div\", { role: \"alert\", children: [_jsx(\"p\", { children: location }), _jsx(\"p\", { children: \"Something went wrong:\" }), _jsx(\"pre\", { style: { color: 'red' }, children: error.message })] }));\n    };\n}\n","import { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport { Address } from '@ton/core';\nimport { AppKey } from '@tonkeeper/core/dist/Keys';\nimport { BLOCKCHAIN_NAME, CryptoCurrency } from '@tonkeeper/core/dist/entries/crypto';\nimport { AssetAmount } from '@tonkeeper/core/dist/entries/crypto/asset/asset-amount';\nimport { packAssetId } from '@tonkeeper/core/dist/entries/crypto/asset/basic-asset';\nimport { isTon, tonAssetAddressFromString, tonAssetAddressToString } from '@tonkeeper/core/dist/entries/crypto/asset/ton-asset';\nimport { JettonsApi } from '@tonkeeper/core/dist/tonApiV2';\nimport { shiftedDecimals } from '@tonkeeper/core/dist/utils/balance';\nimport { seeIfValidTonAddress } from '@tonkeeper/core/dist/utils/common';\nimport BigNumber from 'bignumber.js';\nimport { useMemo } from 'react';\nimport { useAppContext } from '../../hooks/appContext';\nimport { useAppSdk } from '../../hooks/appSdk';\nimport { atom, useAtom } from '../../libs/atom';\nimport { QueryKey } from '../../libs/queryKey';\nimport { useAssets } from '../home';\nimport { useJettonList } from '../jetton';\nimport { useRate } from '../rates';\nimport { useSwapsConfig } from './useSwapsConfig';\nexport function useAllSwapAssets() {\n    const { swapService } = useSwapsConfig();\n    const { data: customAssets } = useUserCustomSwapAssets();\n    return useQuery({\n        queryKey: [QueryKey.swapAllAssets, customAssets],\n        queryFn: async () => {\n            try {\n                const assets = await swapService.swapAssets();\n                const fetchedAssets = assets\n                    .map(asset => {\n                    const address = asset.address === 'ton' ? 'TON' : Address.parse(asset.address);\n                    return {\n                        id: packAssetId(BLOCKCHAIN_NAME.TON, address),\n                        symbol: asset.symbol,\n                        decimals: asset.decimals,\n                        name: asset.name,\n                        image: asset.image,\n                        blockchain: BLOCKCHAIN_NAME.TON,\n                        address\n                    };\n                })\n                    .filter(asset => !(customAssets || []).some(ca => ca.id === asset.id));\n                return fetchedAssets.concat(customAssets || []);\n            }\n            catch (e) {\n                console.error(e);\n                return [];\n            }\n        },\n        enabled: !!customAssets\n    });\n}\nconst swapTokensFilter = atom('');\nexport function useSwapTokensFilter() {\n    return useAtom(swapTokensFilter);\n}\nexport function useWalletSwapAssets() {\n    const [walletAssetsData] = useAssets();\n    const { data: allAssets } = useAllSwapAssets();\n    const { data: tonRate } = useRate(CryptoCurrency.TON);\n    const { fiat } = useAppContext();\n    return useQuery({\n        queryKey: [QueryKey.swapWalletAssets, allAssets, walletAssetsData, tonRate, fiat],\n        queryFn: async () => {\n            if (!walletAssetsData || !allAssets || !tonRate) {\n                return [];\n            }\n            const assetsAmounts = allAssets.map(asset => {\n                if (isTon(asset.address)) {\n                    return {\n                        assetAmount: new AssetAmount({\n                            asset,\n                            weiAmount: walletAssetsData.ton.info.balance\n                        }),\n                        fiatAmount: shiftedDecimals(new BigNumber(walletAssetsData.ton.info.balance)).multipliedBy(tonRate.prices)\n                    };\n                }\n                const balance = walletAssetsData.ton.jettons.balances.find(j => Address.parse(j.jetton.address).equals(asset.address));\n                return {\n                    assetAmount: new AssetAmount({\n                        asset,\n                        weiAmount: balance?.balance || 0\n                    }),\n                    fiatAmount: shiftedDecimals(new BigNumber(balance?.balance || 0), asset.decimals).multipliedBy(new BigNumber(balance?.price?.prices?.[fiat] || 0))\n                };\n            });\n            assetsAmounts.sort((a, b) => {\n                if (a.fiatAmount.isZero() && b.fiatAmount.isZero()) {\n                    return b.assetAmount.weiAmount.comparedTo(a.assetAmount.weiAmount);\n                }\n                return b.fiatAmount.comparedTo(a.fiatAmount);\n            });\n            return assetsAmounts;\n        },\n        enabled: !!walletAssetsData && !!allAssets && !!tonRate\n    });\n}\nexport const useWalletFilteredSwapAssets = () => {\n    const [filter] = useSwapTokensFilter();\n    const { data: walletSwapAssets } = useWalletSwapAssets();\n    return useMemo(() => {\n        if (!walletSwapAssets) {\n            return undefined;\n        }\n        return walletSwapAssets.filter(swapAsset => {\n            if (!filter) {\n                return true;\n            }\n            if (seeIfValidTonAddress(filter)) {\n                return Address.parse(filter).equals(swapAsset.assetAmount.asset.address);\n            }\n            const upperCaseFilter = filter.toUpperCase();\n            if (swapAsset.assetAmount.asset.symbol.toUpperCase().includes(upperCaseFilter) ||\n                swapAsset.assetAmount.asset.name?.toUpperCase().includes(upperCaseFilter)) {\n                return true;\n            }\n        });\n    }, [filter, walletSwapAssets]);\n};\nexport const useSwapCustomTokenSearch = () => {\n    const [filter] = useSwapTokensFilter();\n    const isAddress = seeIfValidTonAddress(filter);\n    const { api, fiat } = useAppContext();\n    const { data: jettons } = useJettonList();\n    return useQuery({\n        queryKey: [QueryKey.swapCustomToken, filter, jettons, fiat],\n        queryFn: async () => {\n            if (!isAddress) {\n                return null;\n            }\n            try {\n                const address = Address.parse(filter);\n                const response = await new JettonsApi(api.tonApiV2).getJettonInfo({\n                    accountId: address.toRawString()\n                });\n                const tonAsset = {\n                    address,\n                    image: response.metadata.image,\n                    blockchain: BLOCKCHAIN_NAME.TON,\n                    name: response.metadata.name,\n                    symbol: response.metadata.symbol,\n                    decimals: Number(response.metadata.decimals),\n                    id: packAssetId(BLOCKCHAIN_NAME.TON, address)\n                };\n                const jb = jettons?.balances.find(j => Address.parse(j.jetton.address).equals(address));\n                const assetAmount = new AssetAmount({\n                    asset: tonAsset,\n                    weiAmount: jb?.balance || new BigNumber(0)\n                });\n                return {\n                    assetAmount,\n                    fiatAmount: shiftedDecimals(new BigNumber(jb?.balance || 0), tonAsset.decimals).multipliedBy(new BigNumber(jb?.price?.prices?.[fiat] || 0))\n                };\n            }\n            catch (e) {\n                console.error(e);\n                return null;\n            }\n        },\n        enabled: isAddress && !!jettons\n    });\n};\nexport const useUserCustomSwapAssets = () => {\n    const sdk = useAppSdk();\n    return useQuery([AppKey.SWAP_CUSTOM_ASSETS], async () => {\n        const assetsSerialized = await sdk.storage.get(AppKey.SWAP_CUSTOM_ASSETS);\n        return (assetsSerialized?.map(s => ({\n            ...s,\n            blockchain: s.blockchain,\n            address: tonAssetAddressFromString(s.address),\n            id: packAssetId(s.blockchain, s.address)\n        })) || []);\n    });\n};\nexport const useAddUserCustomSwapAsset = () => {\n    const sdk = useAppSdk();\n    const client = useQueryClient();\n    return useMutation(async (asset) => {\n        const current = (await sdk.storage.get(AppKey.SWAP_CUSTOM_ASSETS)) || [];\n        await sdk.storage.set(AppKey.SWAP_CUSTOM_ASSETS, [\n            ...current,\n            { ...asset, address: tonAssetAddressToString(asset.address) }\n        ]);\n        await client.invalidateQueries([AppKey.SWAP_CUSTOM_ASSETS]);\n    });\n};\n"],"names":["defaultSwapOptions","useSwapOptions","sdk","useAppSdk","useQuery","AppKey","SWAP_OPTIONS","async","options","storage","get","slippagePercent","maxPriceImpact","swapToProviderSwap","swap","provider","stonfiTrade","trade","rawTrade","dedustTrade","assertUnreachable","swapAssetsCache","Map","swapProviders","fetchedSwaps$","atom","calculationId","useCalculatedSwap","api","useAppContext","fetchedSwaps","setFetchedSwaps","useAtom","fromAsset","useSwapFromAsset","toAsset","useSwapToAsset","fromAmountRelative","useSwapFromAmount","_","setSelectedSwap","useSelectedSwap","isNotCompleted","useIsSwapFormNotCompleted","swapService","useSwapsConfig","query","queryKey","QueryKey","swapCalculate","id","shiftedBy","decimals","toFixed","queryFn","signal","_ref","undefined","currentCalulationId","addAssetToCache","fromAmountWei","unShiftedDecimals","totalFetchedSwaps","Promise","res","rej","fetchedProvidersNumber","forEach","swapPromise","calculateSwap","toTradeAssetId","address","onabort","cancel","providerSwap","providerSwapToSwap","Error","providerBestSwap","sortSwaps","concat","s","length","e","console","error","cacheTime","useMemo","isTon","toRawString","fromTradeAssetId","Address","parse","swaps","slice","sort","a","b","to","weiAmount","comparedTo","assetsInfo","getPathAssets","trades","map","t","from","AssetAmount","asset","fromAmount","toAmount","path","find","eqAddresses","blockchainFee","TON_ASSET","dedustRawTrade","stonfiRawTrade","addresses","flatMap","all","getAsset","has","set","resolve","p","JettonsApi","tonApiV2","getJettonInfo","accountId","then","response","symbol","metadata","Number","name","blockchain","BLOCKCHAIN_NAME","TON","packAssetId","image","SwapButton","onClick","isEncodingProcess","useTranslation","swapAmount","data","max","useMaxSwapValue","isFetching","calculatedSwaps","selectedSwap","priceImpact","useSwapPriceImpact","swapOptions","_jsx","Button","size","secondary","disabled","children","every","loading","gt","shiftedDecimals","primary","SwapSearchInput","forwardRef","ref","className","isDisabled","value","setValue","useSwapTokensFilter","Input","onChange","label","clearButton","ConfirmImportNotificationContent","styled","div","_templateObject","_taggedTemplateLiteral","DescriptionBlock","Body2","_templateObject2","theme","textSecondary","ButtonsBlock","_templateObject3","NotificationStyled","Notification","_templateObject4","displayType","ConfirmImportNotification","isOpen","onClose","tokenSymbol","_Fragment","handleClose","_jsxs","Label2","replace","SwapTokensListWrapper","Divider","separatorCommon","SwapTokensList","walletSwapAssets","onSelect","displayingAssets","setDisplayingAssets","useState","useRef","useEffect","onScroll","throttle","current","scrollHeight","clientHeight","scrollTop","d","swapAsset","index","Fragment","TokenListItem","assetAmount","TokenNotFound","TokensNotFoundContainer","_ref2","useSwapCustomTokenSearch","isOpened","setIsOpened","mutate","useAddUserCustomSwapAsset","SpinnerIcon","confirmed","TokenListItemWrapper","button","backgroundContent","TokenImage","img","_templateObject5","TokenInfo","_templateObject6","TokenInfoLine","_templateObject7","LinkOutIconWrapper","_templateObject8","iconSecondary","TokenInfoSecondLine","_templateObject9","BalanceLabel","_templateObject10","isZero","textTertiary","textPrimary","_ref3","isZeroBalance","relativeAmount","fiat","src","explorerUrl","preventDefault","stopPropagation","toString","urlSafe","openPage","LinkOutIcon","stringRelativeAmount","Body3","formatFiatCurrency","fiatAmount","swapTokensListOpened$","SwapTokensListNotification","setIsOpen","title","footer","SwapTokensListContent","SwapSearchInputStyled","SwapTokensListContentWrapper","css","SpinnerContainer","useWalletFilteredSwapAssets","inputRef","setFilter","setTimeout","_inputRef$current","focus","TokenSymbol","SelectContainer","SwapTokenSelect","token","onTokenChange","openList","useCallback","useOpenSwapTokensList","SwitchIcon","AmountInputWrapper","input","isErrored","accentRed","Num2Class","Body3Styled","SwapAmountFiat","amount","rate","isLoading","useRate","tonAssetAddressToString","prices","Skeleton","width","height","margin","inFiat","BigNumber","multipliedBy","BalanceContainer","MaxButton","accentBlue","SwapFromAmountBalance","setSwapAmount","balance","SwapAmountContent","onMax","SwapToAmountBalance","useAssetWeiBalance","format","useFormatCoinValue","Label3","FiledContainerStyled","corner2xSmall","cornerSmall","FiledHeader","FieldBody","FieldFooter","SwapTokenSelectStyled","SwapAmountInputStyled","setInput","endsWith","getDecimalSeparator","removeGroupSeparator","eq","formatNumberValue","decimalSeparator","newValue","inputValue","replaceTypedDecimalSeparator","seeIfValueValid","isNumeric","bnInput","prevBnInput","formatSendValue","onInput","target","placeholder","inputMode","SwapFromField","setFromAsset","debounce","SwapProvidersContainer","Heading","SwapProviders","ProviderCard","ProviderCardStyled","isActive","ProviderImage","ProviderLabelContainer","ProviderPriceContainer","providersConfig","stonfi","imageUrl","dedust","isRateFetching","isBest","findIndex","providerConfig","useFormatFiat","stringAssetRelativeAmount","AccordionContent","$transitionMS","AccordionAnimation","$isOpened","$animationCompleted","AccordionBody","Accordion","transitionMS","isAnimationCompleted","setIsAnimationCompleted","timeoutRef","clearTimeout","TxInfoContainer","TxInfoHeader","AccordionButton","animationCompleted","IconButton","InfoRow","Tooltip","backgroundContentTint","BorderSmallResponsive","Body2Class","placement","_templateObject11","TooltipHost","_templateObject12","InfoRowLabel","_templateObject13","InfoRowRight","_templateObject14","InfoSkeleton","PriceImpact","_templateObject15","status","accentGreen","accentOrange","SwapTransactionInfo","onToggleAccordion","v","transparent","ChevronDownIcon","InfoCircleIcon","priceImpactStatus","decimalPlaces","ta","join","impact","WarnIcon","viewBox","fill","xmlns","fillRule","clipRule","SwapRate","measureUnit","setMeasureUnit","leftPart","rightPart","rightPartAmount","rightPartAssetAmount","fromRelativeAmount","ToAmountField","Num2Tertiary","Num2","SwapToField","_selectedSwap$trade","setToAsset","MainFormWrapper","ChangeIconStyled","props","buttonTertiaryBackground","buttonTertiaryBackgroundHighlighted","iconPrimary","SwapMainForm","useTheme","mutateAsync","encode","wallet","useActiveWallet","config","swapOpaitons","referral","web_swaps_referral_address","useMutation","encodeSwap","senderAddress","rawAddress","slippage","referralAddress","useEncodeSwap","modalParams","setModalParams","setFromAmount","navigate","useNavigate","__","setIsMobileSwapOpen","useSwapMobileNotification","onChangeFields","SwapIcon","result","valid_until","Date","now","messages","bounceable","payload","body","TonTransactionNotification","boc","AppRoute","activity","params","waitInvalidation","ErrorBoundaryContext","createContext","initialState","didCatch","ErrorBoundary","Component","constructor","super","this","resetErrorBoundary","bind","state","getDerivedStateFromError","_this$props$onReset","_this$props","_len","arguments","args","Array","_key","onReset","call","reason","setState","componentDidCatch","info","_this$props$onError","_this$props2","onError","componentDidUpdate","prevProps","prevState","resetKeys","_this$props$onReset2","_this$props3","some","item","Object","is","hasArrayChanged","next","prev","render","fallbackRender","FallbackComponent","fallback","childToRender","createElement","isValidElement","Provider","LabelStyled","fieldBackground","InputStyled","RadioFlatInput","fallbackId","useId","rest","type","htmlFor","SwapSettingsNotification","SwapSettingsNotificationContent","SlippageToleranceTextWrapper","SlippageOptionsContainer","RadioFlatInputStyled","ButtonsContainer","slippagePercentValues","defaultPercent","LoadingContainer","useMutateSwapOptions","client","useQueryClient","newOptions","invalidateQueries","checkedRadioValue","setCheckedRadioValue","useLayoutEffect","includes","checked","onSave","SwapSettingsButton","IconButtonTransparentBackground","SlidersIcon","isRefetchCalled","SwapRefreshButton","refetch","isCounting","setIsCounting","timeutId","RefreshIconAnimated","RefreshIcon","NotificationHeaderContainer","HeaderButtons","HeaderLabel","NotificationHeader","SwapPageWrapper","NotificationContent","SwapMobileNotification","location","role","style","color","message","useAllSwapAssets","customAssets","useUserCustomSwapAssets","swapAllAssets","assets","swapAssets","filter","ca","enabled","swapTokensFilter","walletAssetsData","useAssets","allAssets","tonRate","CryptoCurrency","swapWalletAssets","assetsAmounts","_balance$price","ton","jettons","balances","j","jetton","equals","price","useWalletSwapAssets","_swapAsset$assetAmoun","seeIfValidTonAddress","upperCaseFilter","toUpperCase","isAddress","useJettonList","swapCustomToken","_jb$price","tonAsset","jb","SWAP_CUSTOM_ASSETS","assetsSerialized","tonAssetAddressFromString"],"sourceRoot":""}