"use strict";(self.webpackChunk_tonkeeper_extension=self.webpackChunk_tonkeeper_extension||[]).push([[72],{88072:(e,n,t)=>{t.r(n),t.d(n,{default:()=>vn});var r=t(80184),s=t(72791),i=t(23098),a=t(89242),o=t(30168),d=t(24539),l=t(65867),c=t(87594),u=t(61945),m=t(26313),x=t(86704),h=t(91153),f=t(79309),p=t(5784),v=t(26503),g=t(47712),j=t(88754),_=t(68827),w=t(13093),b=t(11707);function k(e){return!!e.dns}var y=t(76978),Z=t(1849),C=t(40213),P=t(12020),T=t(93853),S=t(27127),A=t(82820),F=t(34692);function N(e){var n;const t=(0,h.rT)();return void 0!==e.sale||!(0,S._k)(t.rawAddress,null===(n=e.owner)||void 0===n?void 0:n.address)}var R=t(45928),L=t(41235),O=t(69131);function $(e,n){let{caller:t,queryKey:r,options:s}=e;const{api:i}=(0,c.bp)(),a=(0,h.Mu)();return(0,L.useQuery)(r,(async()=>{if(!(0,O.qN)(a))throw new Error("account not controllable");const e=await t({...n,walletState:a.activeTonWallet,api:i}),{event:r}=await new d.f7_(i.tonApiV2).emulateMessageToWallet({emulateMessageToWalletRequest:{boc:e}});return{fee:new y.n({asset:Z.Ct,weiAmount:-1*r.extra}),payload:{event:r}}}),s)}const z=e=>$({caller:R.gP,queryKey:["estimate-link-nft",e.nftAddress,e.linkToAddress]},e);var B=t(98502),H=t(86871),I=t(8676),D=t(33455);function q(e,n){let{executor:t,eventName2:r}=e;const{t:s}=(0,u.$G)(),a=(0,i._H)(),{api:o}=(0,c.bp)(),d=(0,h.Mu)(),l=(0,L.useQueryClient)(),m=(0,D.BJ)(),{mutateAsync:x}=(0,I.Ug)(),{mutateAsync:f}=(0,h.x_)();return(0,L.useMutation)((async()=>{if(!(0,O.qN)(d))return!1;if(!n.fee)return!1;const e=await(0,H.TC)(a,d.id,x).catch((()=>null));if(null===e)return!1;m(r);try{await t({api:o,account:d,signer:e,...n})}catch(i){await(0,B.cB)(l,a,s,i)}return await f(),await l.invalidateQueries(),!0}))}const E=e=>q({executor:R.Uy,eventName2:"link-dns"},e);var M=t(14182),V=t(80572);function W(e){const n=(0,h.i7)(),t=(0,s.useRef)(!0),{isLoading:r,data:i,mutate:a}=(0,V.gW)();(0,s.useEffect)((()=>{t.current=!1,a({address:e})}),[e]);return{recipient:(0,s.useMemo)((()=>({address:{address:(0,S.Tg)(e,n,!0),blockchain:M.S.TON},comment:"",done:!1,toAccount:i})),[i,n]),isLoading:!!t.current||r}}function G(){const{t:e}=(0,u.$G)(),n=(0,i._H)(),t=(0,L.useQueryClient)();return r=>(0,B.cB)(t,n,e,r)}function Q(e,n){const[t,r]=(0,s.useState)(!1),[i,a]=(0,s.useState)(!1),[o,d]=(0,s.useState)(!1),l=(0,s.useRef)(e.data),c=async()=>{const t=await e.refetch();if(o&&r(!1),n(t.data,l.current))return r(!1),void a(!0);l.current=t.data,setTimeout(c,1e3)};return(0,s.useEffect)((()=>()=>d(!0)),[]),{isLoading:t,isCompleted:i,data:e.data,refetch:function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4;l.current=e.data,r(!0),d(!1),a(!1),setTimeout((()=>{t&&d(!0)}),n),c()}}}var U,K,J,Y,X=t(73643),ee=t(59598),ne=t(90820),te=t(38705);const re=e=>{var n;let{nft:t}=e;const a=(0,i.pm)(),{t:o}=(0,u.$G)(),d=(0,x.Lc)(t),{data:l,isLoading:c}=d,m=(null===l||void 0===l||null===(n=l.wallet)||void 0===n?void 0:n.address)||"",{refetch:h,isLoading:f,isCompleted:p}=Q(d,((e,n)=>{var t,r;return!(null===n||void 0===n||null===(t=n.wallet)||void 0===t||!t.address)!==!(null===e||void 0===e||null===(r=e.wallet)||void 0===r||!r.address)}));return(0,s.useEffect)((()=>{p&&a(o(m?"dns_address_linked":"dns_address_unlinked"))}),[p,m]),m?(0,r.jsx)(me,{nft:t,linkedAddress:m,isLoading:f,refetch:h}):(0,r.jsx)(oe,{nft:t,isLoading:c||f,refetch:h})},se=(0,l.ZP)(g.pN)(U||(U=(0,o.Z)(["\n    cursor: pointer;\n    color: ",";\n    pointer-events: ",";\n"])),(e=>e.isDisabled?e.theme.textSecondary:e.theme.textAccent),(e=>e.isDisabled?"none":"unset")),ie=new F.Z(.02),ae=y.n.fromRelativeAmount({asset:Z.Ct,amount:ie}),oe=e=>{var n;let{nft:t,isLoading:i,refetch:o}=e;const d=G(),{t:l}=(0,u.$G)(),[c,m]=(0,s.useState)(),x=(0,h.rT)(),[f,p]=(0,s.useState)(x.rawAddress),g=e=>{if("wallet"===c)return m("confirm");m(void 0),e?o():p(x.rawAddress)},{recipient:_,isLoading:w}=W(t.address),{refetch:b,...k}=z({nftAddress:t.address,amount:(0,T.$O)(ie),linkToAddress:f}),y=(0,s.useCallback)((async e=>{p(e),await b(),m("confirm")}),[b,t.address]),Z=E({nftAddress:t.address,amount:(0,T.$O)(ie),linkToAddress:f,fee:null===(n=k.data)||void 0===n?void 0:n.payload}),C=(0,S.ks)(f,x.rawAddress),P=(0,h.i7)(),F=(0,s.useCallback)((()=>(0,r.jsx)(ce,{onSave:y,isLoading:k.isFetching,domain:t.dns})),[y,k.isFetching]),R=N(t),L=(0,A.s)(t.dns);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j.zx,{type:"button",size:"large",secondary:!0,fullWidth:!0,disabled:R,loading:k.isFetching||w||i,onClick:()=>{k.error?d(k.error):m("confirm")},children:l(L?"nft_link_username_button":"nft_link_domain_button")}),(0,r.jsx)(a.P_,{title:l("wallet"===c?"wallet_address":"send_screen_steps_comfirm_title"),isOpen:!!c,hideButton:!0,handleClose:()=>g(),backShadow:!0,children:"wallet"===c?F:()=>(0,r.jsxs)(te.vp,{onClose:g,recipient:_,assetAmount:ae,fitContent:!0,estimation:k,...Z,children:[(0,r.jsx)(te.tv,{}),(0,r.jsx)(te.eZ,{}),(0,r.jsxs)(te.CP,{children:[(0,r.jsx)(v.HC,{hover:!1,children:(0,r.jsxs)(v.me,{children:[(0,r.jsx)(ee.__,{children:l(C?"dns_current_address":"wallet_address")}),(0,r.jsx)(X.Uc,{right:!0,text:(0,S.FN)((0,S.Tg)(f,P)),secondary:(0,r.jsx)(se,{isDisabled:Z.isLoading,onClick:()=>m("wallet"),children:l("replace")})})]})}),(0,r.jsx)(te.pk,{}),(0,r.jsx)(te.RB,{})]}),(0,r.jsx)(te.mC,{children:(0,r.jsx)(te.uq,{MainButton:B.Rn})})]})})]})},de=(0,l.ZP)(g.mI)(K||(K=(0,o.Z)(["\n    color: ",";\n    margin-bottom: 1.5rem;\n"])),(e=>e.theme.textSecondary)),le=(0,l.ZP)(a.QT)(J||(J=(0,o.Z)(["\n    align-items: flex-start;\n"]))),ce=e=>{let{onSave:n,isLoading:t,domain:i}=e;const{t:a}=(0,u.$G)(),[o,d]=(0,s.useState)(""),[l,c]=(0,s.useState)(!1),m=(0,s.useMemo)((()=>{if(!l)return!0;try{return b.Address.parse(o),!0}catch{return!1}}),[l,o]);return(0,r.jsxs)(le,{onSubmit:e=>{e.stopPropagation(),e.preventDefault(),c(!0);try{n(b.Address.parse(o).toRawString())}catch(t){console.error(t)}},children:[(0,r.jsx)(de,{children:a("add_dns_address").replace("%1%",i)}),(0,r.jsx)(ne.II,{disabled:t,isValid:m,value:o,onChange:d,label:a("wallet_address"),clearButton:!0}),(0,r.jsx)(X.Zv,{}),(0,r.jsx)(j.zx,{fullWidth:!0,size:"large",primary:!0,disabled:!o,loading:t,children:"Save"})]})},ue=(0,l.ZP)(g.pN)(Y||(Y=(0,o.Z)(["\n    text-align: center;\n    color: ",";\n"])),(e=>e.theme.accentOrange)),me=e=>{var n;let{nft:t,linkedAddress:i,isLoading:o,refetch:d}=e;const l=G(),{t:c}=(0,u.$G)(),m=(0,h.rT)(),[x,f]=(0,s.useState)(!1),p=e=>{f(!1),!0===e&&d()},{recipient:v,isLoading:g}=W(t.address),_=z({nftAddress:t.address,amount:(0,T.$O)(ie),linkToAddress:""}),w=E({nftAddress:t.address,amount:(0,T.$O)(ie),linkToAddress:"",fee:null===(n=_.data)||void 0===n?void 0:n.payload}),b=N(t),k=(0,A.s)(t.dns),y=(0,h.i7)(),Z=Object.values((0,C.jh)(m)?(0,P.$R)(m.publicKey,y):{}).every((e=>{let{address:n}=e;return!(0,S.ks)(n.toRawString(),i)}));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j.zx,{type:"button",size:"large",secondary:!0,fullWidth:!0,disabled:b,loading:_.isFetching||g||o,onClick:()=>{_.error?l(_.error):f(!0)},children:c("nft_unlink_domain_button").replace("{{address}}",(0,S.FN)((0,S.Tg)(i,y)))}),Z&&!o&&(0,r.jsx)(ue,{children:c(k?"tme_linked_with_another_address_warn":"dns_linked_with_another_address_warn")}),(0,r.jsx)(a.P_,{title:c("confirm_unlink"),isOpen:x,hideButton:!0,handleClose:()=>p(),backShadow:!0,children:()=>(0,r.jsxs)(te.vp,{onClose:p,recipient:v,assetAmount:ae,fitContent:!0,estimation:_,...w,children:[(0,r.jsx)(te.tv,{}),(0,r.jsx)(te.eZ,{}),(0,r.jsxs)(te.CP,{children:[(0,r.jsx)(te.pk,{}),(0,r.jsx)(te.RB,{})]}),(0,r.jsx)(te.mC,{children:(0,r.jsx)(te.uq,{MainButton:B.Rn})})]})})]})};var xe=t(79297);var he,fe,pe,ve=t(17636);const ge=l.ZP.div(he||(he=(0,o.Z)(["\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]))),je=(0,l.ZP)(j.zx)(fe||(fe=(0,o.Z)(["\n    margin-bottom: 0.75rem;\n"]))),_e=(0,l.ZP)(g.pN)(pe||(pe=(0,o.Z)(["\n    color: ",";\n"])),(e=>e.danger?e.theme.accentRed:e.theme.textSecondary)),we=new F.Z(.02),be=y.n.fromRelativeAmount({asset:Z.Ct,amount:new F.Z(.02)}),ke={year:"numeric",hour:void 0,minute:void 0},ye=e=>{var n;let{nft:t}=e;const o=(0,i.pm)(),d=N(t),l=G(),{t:c,i18n:{language:m}}=(0,u.$G)(),h=new Intl.RelativeTimeFormat((0,xe.l1)(m),{style:"long"}),f=(0,x.id)(t),{data:p,isLoading:v}=f,{refetch:g,isLoading:j,isCompleted:_}=Q(f,((e,n)=>!(null===e||void 0===e||!e.getTime())&&e.getTime()!==(null===n||void 0===n?void 0:n.getTime())));(0,s.useEffect)((()=>{_&&o(c("renew_nft_renewed"))}),[_]);const w=(0,ve.W)(Date.now()+316224e5,ke),[b,k]=(0,s.useState)(!1),y=e=>{k(!1),e&&g()},{recipient:Z,isLoading:C}=W(t.address),P=(S={nftAddress:t.address,amount:(0,T.$O)(we)},$({caller:R.mP,queryKey:["estimate-nft-renew",S.nftAddress]},S));var S;const A=(e=>q({executor:R.Uq,eventName2:"renew-dns"},e))({nftAddress:t.address,amount:(0,T.$O)(we),fee:null===(n=P.data)||void 0===n?void 0:n.payload});if(!v&&!p)return null;const F=(0,ve.V)(p);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(ge,{children:[(0,r.jsx)(je,{type:"button",disabled:d||j,loading:v||P.isFetching||C,onClick:()=>{P.error?l(P.error):k(!0)},size:"large",secondary:!0,fullWidth:!0,children:j?c("renew_nft_in_progress"):c("dns_renew_until_btn").replace("%{untilDate}",w)}),""!==F&&(0,r.jsx)(_e,{danger:Number(F)<=30,children:c("renew_nft_expiration_date").replace("%1%",h.format(Number(F),"days"))})]}),(0,r.jsx)(a.P_,{isOpen:b,hideButton:!0,handleClose:()=>y,backShadow:!0,children:()=>(0,r.jsx)(te.vp,{onClose:y,recipient:Z,assetAmount:be,fitContent:!0,estimation:P,...A,children:(0,r.jsx)(te.mC,{children:(0,r.jsx)(te.uq,{MainButton:B.Rn})})})})]})};var Ze,Ce;const Pe=e=>{const{marketplace:n}=e.metadata,t=b.Address.parse(e.address).toString();return"https://getgems.io/nft/".concat(t)},Te=e=>{let{url:n}=e;const{t:t}=(0,u.$G)(),s=(0,i._H)();return(0,r.jsx)(j.zx,{size:"large",secondary:!0,fullWidth:!0,onClick:e=>{e.preventDefault(),e.stopPropagation(),s.openPage(n)},children:t("nft_open_in_marketplace")})},Se=e=>{var n;let{nftItem:t}=e;const s=(0,i._H)(),{t:a}=(0,u.$G)(),o=(0,h.rT)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j.zx,{primary:!0,size:"large",fullWidth:!0,disabled:void 0!==t.sale||(null===(n=t.owner)||void 0===n?void 0:n.address)!==o.rawAddress,onClick:e=>{e.preventDefault(),e.stopPropagation(),s.uiEvents.emit("transferNft",{method:"transferNft",params:t})},children:a("nft_transfer_nft")}),t.sale&&(0,r.jsx)(Fe,{children:a("nft_on_sale_text")})]})},Ae=(0,l.ZP)(g.pN)(Ze||(Ze=(0,o.Z)(["\n    width: 100%;\n    color: ",";\n"])),(e=>e.theme.textSecondary)),Fe=(0,l.ZP)(Ae)(Ce||(Ce=(0,o.Z)(["\n    width: 100%;\n    padding: 0 1rem;\n    text-align: left;\n"]))),Ne=e=>{let{kind:n,nftItem:t}=e;if((0,h.TH)())return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(Te,{url:Pe(t)})});switch(n){case"token":return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Se,{nftItem:t}),(0,r.jsx)(Te,{url:Pe(t)})]});case"ton.dns":var s;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Se,{nftItem:t}),(0,r.jsx)(Te,{url:"https://dns.ton.org/#".concat(null===(s=t.dns)||void 0===s?void 0:s.slice(0,-4))}),k(t)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(re,{nft:t}),(0,r.jsx)(ye,{nft:t})]})]});case"telegram.number":{const e=t.metadata.name.replace(/\s/g,"").slice(1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Se,{nftItem:t}),(0,r.jsx)(Te,{url:"https://fragment.com/number/".concat(e)})]})}case"telegram.name":var i;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Se,{nftItem:t}),(0,r.jsx)(Te,{url:"https://fragment.com/username/".concat(null===(i=t.dns)||void 0===i?void 0:i.slice(0,-5))}),k(t)&&(0,r.jsx)(re,{nft:t})]})}};var Re,Le,Oe,$e;const ze=l.ZP.div(Re||(Re=(0,o.Z)(["\n    width: 100%;\n"]))),Be=l.ZP.div(Le||(Le=(0,o.Z)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 0.625rem;\n"]))),He=(0,l.ZP)(g.RV)(Oe||(Oe=(0,o.Z)(["\n    cursor: pointer;\n    color: ",";\n"])),(e=>e.theme.textAccent)),Ie=(0,l.ZP)(g.mI)($e||($e=(0,o.Z)(["\n    color: ",";\n"])),(e=>e.theme.textSecondary)),De=s.memo((e=>{var n,t;let{nftItem:s}=e;const{t:a}=(0,u.$G)(),{data:o}=(0,x.T_)(s.address),{data:d,isLoading:l}=(0,x.id)(s),m=(0,ve.W)(d,{year:"numeric",hour:void 0,minute:void 0}),f=null!==o&&void 0!==o?o:s,j=(0,i._H)(),{config:_}=(0,c.bp)(),w=null===(n=f.owner)||void 0===n?void 0:n.address,k=b.Address.parse(f.address).toString(),y=(0,h.i7)(),Z=null!==(t=_.NFTOnExplorerUrl)&&void 0!==t?t:"https://tonviewer.com/nft/%s",C=(0,S.Tg)(k,y,!0);return(0,r.jsxs)(ze,{children:[(0,r.jsxs)(Be,{children:[(0,r.jsx)(g.H3,{children:a("nft_details")}),(0,r.jsx)(He,{onClick:()=>j.openPage(Z.replace("%s",k)),children:a("nft_view_in_explorer")})]}),(0,r.jsxs)(v.L8,{margin:!1,children:[w&&(0,r.jsx)(v.HC,{onClick:()=>j.copyToClipboard((0,S.Tg)(w,y)),children:(0,r.jsxs)(v.me,{children:[(0,r.jsx)(Ie,{children:a("nft_owner_address")}),(0,r.jsx)(g.RV,{children:(0,S.FN)((0,S.Tg)(w,y))})]})}),!(!d&&!l)&&(0,r.jsx)(v.HC,{hover:!1,children:(0,r.jsxs)(v.me,{children:[(0,r.jsx)(Ie,{children:a("dns_expiration_date")}),d?(0,r.jsx)(g.RV,{children:m}):(0,r.jsx)(p.L4,{})]})}),(0,r.jsx)(v.HC,{onClick:()=>j.copyToClipboard(C),children:(0,r.jsxs)(v.me,{children:[(0,r.jsx)(Ie,{children:a("nft_contract_address")}),(0,r.jsx)(g.RV,{children:(0,S.FN)(C)})]})})]})]})}));var qe,Ee,Me,Ve,We,Ge,Qe,Ue,Ke,Je,Ye,Xe=t(74639),en=t(30345);const nn=l.ZP.div(qe||(qe=(0,o.Z)(["\n    display: flex;\n    flex-direction: column;\n    padding: 0.875rem 1rem;\n"]))),tn=l.ZP.div(Ee||(Ee=(0,o.Z)(["\n    border-top: 1px solid ",";\n"])),(e=>e.theme.separatorCommon)),rn=(0,l.ZP)(g.RV)(Me||(Me=(0,o.Z)(["\n    margin-bottom: 0.5rem;\n"]))),sn=l.ZP.span(Ve||(Ve=(0,o.Z)(["\n    position: relative;\n    top: 3px;\n    margin-left: 4px;\n"]))),an="0:b774d95eb20543f186c06b371ab88ad704f7e256130caf96189368a7d0cb6ccf",on="0:80d78a35f955a14b679faa887ff4cd5bfc0f43b4a4eea2a7e6927f3701b273c2",dn="0:0e41dc1dc3c9067ed24248580e12b3359818d83dee0304fabcf80845eafafdb2",ln=(0,l.ZP)(g.H2)(We||(We=(0,o.Z)(["\n    word-break: break-word;\n\n    user-select: none;\n"]))),cn=(0,l.ZP)(g.cV)(Ge||(Ge=(0,o.Z)(["\n    color: ",";\n    border: 1px solid ",";\n    border-radius: 6px;\n    padding: 3.5px 6px 4.5px;\n    text-transform: uppercase;\n\n    position: relative;\n    top: -3px;\n\n    white-space: nowrap;\n"])),(e=>e.theme.textSecondary),(e=>e.theme.buttonTertiaryBackground)),un=(0,l.ZP)(g.pN)(Qe||(Qe=(0,o.Z)(["\n    color: ",";\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n"])),(e=>e.isTrusted?e.theme.textSecondary:e.theme.accentOrange)),mn=l.ZP.div(Ue||(Ue=(0,o.Z)(["\n    text-align: center;\n"]))),xn=l.ZP.div(Ke||(Ke=(0,o.Z)(["\n    display: flex;\n    gap: 8px;\n    width: 100%;\n\n    > * {\n        flex: 1;\n    }\n"]))),hn=l.ZP.div(Je||(Je=(0,o.Z)(["\n    .drop-down-container {\n        z-index: 100;\n        top: calc(100% + 12px);\n        right: 0;\n    }\n"]))),fn=(0,l.ZP)(v.L8)(Ye||(Ye=(0,o.Z)(["\n    margin: 0;\n\n    svg {\n        color: ",";\n    }\n"])),(e=>e.theme.accentBlue)),pn=e=>{var n,t,o,l,b,k,y;let{onClose:Z,nftItem:C}=e;const{mutateAsync:P,isLoading:T}=(0,x.qZ)(),{mutate:S,isLoading:A}=(0,x.Bo)(),{mutateAsync:F}=(0,x.h8)(),{data:N}=(0,h.cr)(),R=C.trust!==d.DPS.Whitelist,L=!(null===N||void 0===N||!N.trustedNfts.includes((null===(n=C.collection)||void 0===n?void 0:n.address)||C.address)),O=(0,s.useRef)(null),{t:$}=(0,u.$G)(),{data:z}=(0,x._7)(C),{description:B}=C.metadata,H=null!==(t=C.dns)&&void 0!==t?t:C.metadata.name,I=(0,s.useMemo)((()=>{var e;switch(null===(e=C.collection)||void 0===e?void 0:e.address){case an:return"ton.dns";case on:return"telegram.name";case dn:return"telegram.number";default:return"token"}}),[C]),D=null===C||void 0===C||null===(o=C.collection)||void 0===o?void 0:o.name,q=null===(l=C.previews)||void 0===l?void 0:l.find((e=>"1500x1500"===e.resolution)),{isOpen:E,onClose:M,onOpen:V}=(0,m.q)(),{config:W}=(0,c.bp)(),G=(0,i._H)(),Q=null!==(b=W.NFTOnExplorerUrl)&&void 0!==b?b:"https://tonviewer.com/nft/%s";return(0,r.jsxs)(a.QT,{children:[Z&&(0,r.jsxs)(a.hy,{children:[(0,r.jsx)(_.z,{onClick:Z,children:(0,r.jsx)(p.v4,{})}),(0,r.jsxs)(mn,{children:[(0,r.jsx)(g.H3,{children:null!==(k=C.dns)&&void 0!==k?k:C.metadata.name}),R&&(0,r.jsxs)(un,{isTrusted:L,onClick:V,children:[$("suspicious_label_full"),"\xa0",(0,r.jsx)(p.uM,{color:L?"textSecondary":"accentOrange"})]})]}),(0,r.jsx)(en.i,{isOpen:E,onClose:e=>{"mark_spam"===e?P(C).then(Z):"mark_trusted"===e&&S(C),M()},isTrusted:L}),(0,r.jsx)(hn,{children:(0,r.jsx)(f.vb,{containerClassName:"drop-down-container",payload:e=>(0,r.jsxs)(fn,{children:[(0,r.jsx)(v.Sp,{onClick:()=>{e(),F(C).then(Z)},children:(0,r.jsxs)(v.me,{children:[(0,r.jsx)(g.RV,{children:$("nft_actions_hide_nft")}),(0,r.jsx)(p.d9,{})]})}),(0,r.jsx)(v.Sp,{onClick:()=>{e(),P(C).then(Z)},children:(0,r.jsxs)(v.me,{children:[(0,r.jsx)(g.RV,{children:$("nft_actions_hide_and_report")}),(0,r.jsx)(p.wD,{})]})}),(0,r.jsx)(v.Sp,{onClick:()=>G.openPage(Q.replace("%s",C.address)),children:(0,r.jsxs)(v.me,{children:[(0,r.jsx)(g.RV,{children:$("nft_actions_view_on_explorer")}),(0,r.jsx)(p.n9,{})]})})]}),children:(0,r.jsx)(_.z,{children:(0,r.jsx)(p.ws,{})})})})]}),R&&!L&&(0,r.jsxs)(xn,{children:[(0,r.jsx)(j.zx,{warn:!0,type:"button",onClick:()=>P(C).then(Z),loading:T,children:$("suspicious_buttons_report")}),(0,r.jsx)(j.zx,{type:"button",onClick:()=>S(C),loading:A,children:$("suspicious_buttons_not_spam")})]}),(0,r.jsxs)(Xe.qR,{children:[q&&(0,r.jsx)(Xe.Ee,{ref:O,url:q.url}),(0,r.jsxs)(nn,{children:[(0,r.jsxs)(ln,{children:[H,C.sale&&(0,r.jsxs)(r.Fragment,{children:["  ",(0,r.jsx)(cn,{children:$("nft_on_sale")})]})]}),D&&(0,r.jsxs)(w.u,{open:!0,margin:"small",children:[D,C.approvedBy&&C.approvedBy.length>0&&(0,r.jsx)(sn,{children:(0,r.jsx)(p.of,{})})]}),B&&(0,r.jsx)(w.F,{text:B,margin:"last",contentColor:!0})]}),z&&(null===(y=z.metadata)||void 0===y?void 0:y.description)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tn,{}),(0,r.jsxs)(nn,{children:[(0,r.jsx)(rn,{children:$("nft_about_collection")}),(0,r.jsx)(w.F,{text:z.metadata.description,margin:"last",contentColor:!0})]})]})]}),(0,r.jsx)(Ne,{nftItem:C,kind:I}),(0,r.jsx)(De,{nftItem:C,kind:I})]})},vn=()=>{const e=(0,i._H)(),[n,t]=(0,s.useState)(void 0),o=(0,s.useCallback)((()=>{t(void 0)}),[t]);(0,s.useEffect)((()=>{const n=e=>{t(e.params)};return e.uiEvents.on("nft",n),()=>{e.uiEvents.off("nft",n)}}),[e,t]);const d=(0,s.useCallback)((()=>{if(n)return(0,r.jsx)(pn,{onClose:o,nftItem:n})}),[n,o]);return(0,r.jsx)(a.P_,{isOpen:void 0!==n,hideButton:!0,handleClose:o,backShadow:!0,children:d})}},74639:(e,n,t)=>{t.d(n,{Ee:()=>C,JQ:()=>F,qR:()=>y});var r,s,i,a,o,d,l,c,u,m,x=t(30168),h=t(80184),f=t(72791),p=t(65867),v=t(87594),g=t(23098),j=t(17636),_=t(5784),w=t(67418),b=t(86704);const k=p.ZP.div(r||(r=(0,x.Z)(["\n    display: grid;\n    margin: 0 0 2rem 0;\n    gap: 0.5rem;\n    grid-template-columns: repeat(3, minmax(0, 1fr));\n"]))),y=p.ZP.div(s||(s=(0,x.Z)(["\n    position: relative;\n    user-select: none;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n\n    background-color: ",";\n    transition: background-color 0.1s ease;\n\n    border-radius: ",";\n\n    overflow: hidden;\n\n    ","\n"])),(e=>e.theme.backgroundContent),(e=>e.theme.cornerSmall),(e=>e.ios?e.isHover?(0,p.iv)(i||(i=(0,x.Z)(["\n                    background-color: ",";\n                "])),e.theme.backgroundContentTint):void 0:e.hover?(0,p.iv)(a||(a=(0,x.Z)(["\n                    cursor: pointer;\n\n                    &:hover {\n                        background-color: ",";\n                    }\n                "])),e.theme.backgroundContentTint):void 0)),Z=p.ZP.div(o||(o=(0,x.Z)(["\n    width: 100%;\n    position: relative;\n"]))),C=p.ZP.div(d||(d=(0,x.Z)(["\n    width: 100%;\n    padding-bottom: 100%;\n\n    ","\n    background-size: cover;\n"])),(e=>e.url&&(0,p.iv)(l||(l=(0,x.Z)(["\n            background-image: url('","');\n        "])),e.url))),P=p.ZP.div(c||(c=(0,x.Z)(["\n    display: flex;\n    flex-direction: column;\n    padding: 0.5rem 0.75rem 0.5rem;\n    white-space: nowrap;\n"]))),T=p.ZP.div(u||(u=(0,x.Z)(["\n    position: absolute;\n    top: 10px;\n    right: 8px;\n"]))),S=p.ZP.div(m||(m=(0,x.Z)(["\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    height: 32px;\n    width: 32px;\n"]))),A=f.memo((e=>{var n;let{nft:t,resolution:r,onOpen:s}=e;const i=void 0!==t.sale,a=null===(n=t.previews)||void 0===n?void 0:n.find((e=>e.resolution===r)),{ios:o}=(0,v.bp)(),[d,l]=(0,f.useState)(!1),c=(0,f.useRef)(null),u=(0,f.useContext)(v._N),{data:m}=(0,b.id)(t);(0,f.useLayoutEffect)((()=>{c.current&&u&&c.current.contains(u)?l(!0):l(!1)}),[c.current,u,l]);const x=m&&Number((0,j.V)(m))<=30;return(0,h.jsxs)(y,{hover:!0,isHover:d,ios:o,ref:c,onClick:()=>s(t),children:[(0,h.jsxs)(Z,{children:[(0,h.jsx)(C,{url:null===a||void 0===a?void 0:a.url}),i&&(0,h.jsx)(T,{children:(0,h.jsx)(_.rG,{})}),x&&(0,h.jsx)(S,{children:(0,h.jsx)(_.XN,{})})]}),(0,h.jsxs)(P,{children:[(0,h.jsx)(w.Ok,{nft:t}),(0,h.jsx)(w.is,{nft:t})]})]})})),F=e=>{let{nfts:n,className:t}=e;const r=(0,g._H)();return(0,h.jsx)(k,{className:t,children:(null!==n&&void 0!==n?n:[]).map((e=>{var n;return"hidden"===(null===(n=e.metadata)||void 0===n?void 0:n.render_type)?(0,h.jsx)(h.Fragment,{}):(0,h.jsx)(A,{nft:e,resolution:"500x500",onOpen:()=>r.openNft(e)},e.address)}))})}},17636:(e,n,t)=>{t.d(n,{V:()=>o,W:()=>a});var r=t(79297),s=t(72791),i=t(61945);function a(e,n){const{i18n:t}=(0,i.$G)();return(0,s.useMemo)((()=>e?new Intl.DateTimeFormat((0,r.l1)(t.language),{month:"short",day:"numeric",year:(new Date).getFullYear()-1===new Date(e).getFullYear()?"numeric":void 0,hour:"numeric",minute:"numeric",...n}).format(e):""),[e,t.language,n])}function o(e){if(!e)return"";const n=Math.floor((new Date(e).getTime()-Date.now())/864e5);return n<0?"0":n.toString()}}}]);
//# sourceMappingURL=72.f7284521.chunk.js.map